!function(e,t){function n(e){return M.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}function r(e){if(!yt[e]){var t=A.body,n=M("<"+e+">").appendTo(t),r=n.css("display");n.remove(),("none"===r||""===r)&&(pt||(pt=A.createElement("iframe"),pt.frameBorder=pt.width=pt.height=0),t.appendChild(pt),mt&&pt.createElement||(mt=(pt.contentWindow||pt.contentDocument).document,mt.write((M.support.boxModel?"<!doctype html>":"")+"<html><body>"),mt.close()),n=mt.createElement(e),mt.body.appendChild(n),r=M.css(n,"display"),t.removeChild(pt)),yt[e]=r}return yt[e]}function i(e,t){var n={};return M.each(wt.concat.apply([],wt.slice(0,t)),function(){n[this]=e}),n}function a(){vt=t}function o(){return setTimeout(a,0),vt=M.now()}function s(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function l(){try{return new e.XMLHttpRequest}catch(t){}}function u(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r,i,a,o,s,l,u,c,h=e.dataTypes,d={},f=h.length,p=h[0];for(r=1;f>r;r++){if(1===r)for(i in e.converters)"string"==typeof i&&(d[i.toLowerCase()]=e.converters[i]);if(o=p,p=h[r],"*"===p)p=o;else if("*"!==o&&o!==p){if(s=o+" "+p,l=d[s]||d["* "+p],!l){c=t;for(u in d)if(a=u.split(" "),(a[0]===o||"*"===a[0])&&(c=d[a[1]+" "+p])){u=d[u],u===!0?l=c:c===!0&&(l=u);break}}!l&&!c&&M.error("No conversion from "+s.replace(" "," to ")),l!==!0&&(n=l?l(n):c(u(n)))}}return n}function c(e,n,r){var i,a,o,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(a in c)a in r&&(n[c[a]]=r[a]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(a in l)if(l[a]&&l[a].test(i)){u.unshift(a);break}if(u[0]in r)o=u[0];else{for(a in r){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}s||(s=a)}o=o||s}return o?(o!==u[0]&&u.unshift(o),r[o]):void 0}function h(e,t,n,r){if(M.isArray(t))M.each(t,function(t,i){n||$e.test(e)?r(e,i):h(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==M.type(t))r(e,t);else for(var i in t)h(e+"["+i+"]",t[i],n,r)}function d(e,n){var r,i,a=M.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((a[r]?e:i||(i={}))[r]=n[r]);i&&M.extend(!0,e,i)}function f(e,n,r,i,a,o){a=a||n.dataTypes[0],o=o||{},o[a]=!0;for(var s,l=e[a],u=0,c=l?l.length:0,h=e===at;c>u&&(h||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!h||o[s]?s=t:(n.dataTypes.unshift(s),s=f(e,n,r,i,s,o)));return(h||!s)&&!o["*"]&&(s=f(e,n,r,i,"*",o)),s}function p(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),M.isFunction(n))for(var r,i,a,o=t.toLowerCase().split(tt),s=0,l=o.length;l>s;s++)r=o[s],a=/^\+/.test(r),a&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[a?"unshift":"push"](n)}}function m(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i="width"===t?1:0,a=4;if(r>0){if("border"!==n)for(;a>i;i+=2)n||(r-=parseFloat(M.css(e,"padding"+Re[i]))||0),"margin"===n?r+=parseFloat(M.css(e,n+Re[i]))||0:r-=parseFloat(M.css(e,"border"+Re[i]+"Width"))||0;return r+"px"}if(r=je(e,t),(0>r||null==r)&&(r=e.style[t]),Fe.test(r))return r;if(r=parseFloat(r)||0,n)for(;a>i;i+=2)r+=parseFloat(M.css(e,"padding"+Re[i]))||0,"padding"!==n&&(r+=parseFloat(M.css(e,"border"+Re[i]+"Width"))||0),"margin"===n&&(r+=parseFloat(M.css(e,n+Re[i]))||0);return r+"px"}function g(e){var t=A.createElement("div");return Ne.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function v(e){var t=(e.nodeName||"").toLowerCase();"input"===t?y(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&M.grep(e.getElementsByTagName("input"),y)}function y(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function b(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function x(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(M.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function w(e,t){if(1===t.nodeType&&M.hasData(e)){var n,r,i,a=M._data(e),o=M._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)M.event.add(t,n,s[n][r])}o.data&&(o.data=M.extend({},o.data))}}function _(e){return M.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function S(e){var t=pe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function E(e,t,n){if(t=t||0,M.isFunction(t))return M.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return M.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=M.grep(e,function(e){return 1===e.nodeType});if(ce.test(t))return M.filter(t,r,!n);t=M.filter(t,r)}return M.grep(e,function(e){return M.inArray(e,t)>=0===n})}function T(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function C(){return!0}function k(){return!1}function N(e,t,n){var r=t+"defer",i=t+"queue",a=t+"mark",o=M._data(e,r);!(!o||"queue"!==n&&M._data(e,i)||"mark"!==n&&M._data(e,a)||!setTimeout(function(){!M._data(e,i)&&!M._data(e,a)&&(M.removeData(e,r,!0),o.fire())},0))}function j(e){for(var t in e)if(("data"!==t||!M.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function P(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(H,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:M.isNumeric(r)?+r:L.test(r)?M.parseJSON(r):r}catch(a){}M.data(e,n,r)}else r=t}return r}function I(e){var t,n,r=F[e]={};for(e=e.split(/\s+/),t=0,n=e.length;n>t;t++)r[e[t]]=!0;return r}var A=e.document,O=e.navigator,D=e.location,M=function(){function n(){if(!s.isReady){try{A.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}s.ready()}}var r,i,a,o,s=function(e,t){return new s.fn.init(e,t,r)},l=e.jQuery,u=e.$,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=/\S/,d=/^\s+/,f=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,_=/(mozilla)(?:.*? rv:([\w.]+))?/,S=/-([a-z]|[0-9])/gi,E=/^-ms-/,T=function(e,t){return(t+"").toUpperCase()},C=O.userAgent,k=Object.prototype.toString,N=Object.prototype.hasOwnProperty,j=Array.prototype.push,P=Array.prototype.slice,I=String.prototype.trim,D=Array.prototype.indexOf,M={};return s.fn=s.prototype={constructor:s,init:function(e,n,r){var i,a,o,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&A.body)return this.context=A,this[0]=A.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(i="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?c.exec(e):[null,e,null],i&&(i[1]||!n)){if(i[1])return n=n instanceof s?n[0]:n,l=n?n.ownerDocument||n:A,o=p.exec(e),o?s.isPlainObject(n)?(e=[A.createElement(o[1])],s.fn.attr.call(e,n,!0)):e=[l.createElement(o[1])]:(o=s.buildFragment([i[1]],[l]),e=(o.cacheable?s.clone(o.fragment):o.fragment).childNodes),s.merge(this,e);if(a=A.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=A,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return s.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return P.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return s.isArray(e)?j.apply(r,e):s.merge(r,e),r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),a.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(P.apply(this,arguments),"slice",P.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,n,r,i,a,o,l=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof l&&(h=l,l=arguments[1]||{},u=2),"object"!=typeof l&&!s.isFunction(l)&&(l={}),c===u&&(l=this,--u);c>u;u++)if(null!=(e=arguments[u]))for(n in e)r=l[n],i=e[n],l!==i&&(h&&i&&(s.isPlainObject(i)||(a=s.isArray(i)))?(a?(a=!1,o=r&&s.isArray(r)?r:[]):o=r&&s.isPlainObject(r)?r:{},l[n]=s.extend(h,o,i)):i!==t&&(l[n]=i));return l},s.extend({noConflict:function(t){return e.$===s&&(e.$=u),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(e===!0&&!--s.readyWait||e!==!0&&!s.isReady){if(!A.body)return setTimeout(s.ready,1);if(s.isReady=!0,e!==!0&&--s.readyWait>0)return;a.fireWith(A,[s]),s.fn.trigger&&s(A).trigger("ready").off("ready")}},bindReady:function(){if(!a){if(a=s.Callbacks("once memory"),"complete"===A.readyState)return setTimeout(s.ready,1);if(A.addEventListener)A.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",s.ready,!1);else if(A.attachEvent){A.attachEvent("onreadystatechange",o),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(r){}A.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):M[k.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!N.call(e,"constructor")&&!N.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||N.call(e,r)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+t)():void s.error("Invalid JSON: "+t)):null},parseXML:function(n){if("string"!=typeof n||!n)return null;var r,i;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(a){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&s.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&h.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(E,"ms-").replace(S,T)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,a=0,o=e.length,l=o===t||s.isFunction(e);if(r)if(l){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;o>a&&n.apply(e[a++],r)!==!1;);else if(l){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;o>a&&n.call(e[a],a,e[a++])!==!1;);return e},trim:I?function(e){return null==e?"":I.call(e)}:function(e){return null==e?"":(e+"").replace(d,"").replace(f,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var r=s.type(e);null==e.length||"string"===r||"function"===r||"regexp"===r||s.isWindow(e)?j.call(n,e):s.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(D)return D.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if("number"==typeof n.length)for(var a=n.length;a>i;i++)e[r++]=n[i];else for(;n[i]!==t;)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[];n=!!n;for(var a=0,o=e.length;o>a;a++)r=!!t(e[a],a),n!==r&&i.push(e[a]);return i},map:function(e,n,r){var i,a,o=[],l=0,u=e.length,c=e instanceof s||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||s.isArray(e));if(c)for(;u>l;l++)i=n(e[l],l,r),null!=i&&(o[o.length]=i);else for(a in e)i=n(e[a],a,r),null!=i&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){if("string"==typeof n){var r=e[n];n=e,e=r}if(!s.isFunction(e))return t;var i=P.call(arguments,2),a=function(){return e.apply(n,i.concat(P.call(arguments)))};return a.guid=e.guid=e.guid||a.guid||s.guid++,a},access:function(e,n,r,i,a,o,l){var u,c=null==r,h=0,d=e.length;if(r&&"object"==typeof r){for(h in r)s.access(e,n,h,r[h],1,o,i);a=1}else if(i!==t){if(u=l===t&&s.isFunction(i),c&&(u?(u=n,n=function(e,t,n){return u.call(s(e),n)}):(n.call(e,i),n=null)),n)for(;d>h;h++)n(e[h],r,u?i.call(e[h],h,n(e[h],r)):i,l);a=1}return a?e:c?n.call(e):d?n(e[0],r):o},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||x.exec(e)||w.exec(e)||e.indexOf("compatible")<0&&_.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof s&&!(r instanceof e)&&(r=e(r)),s.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(A);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){M["[object "+t+"]"]=t.toLowerCase()}),i=s.uaMatch(C),i.browser&&(s.browser[i.browser]=!0,s.browser.version=i.version),s.browser.webkit&&(s.browser.safari=!0),h.test(" ")&&(d=/^[\s\xA0]+/,f=/[\s\xA0]+$/),r=s(A),A.addEventListener?o=function(){A.removeEventListener("DOMContentLoaded",o,!1),s.ready()}:A.attachEvent&&(o=function(){"complete"===A.readyState&&(A.detachEvent("onreadystatechange",o),s.ready())}),s}(),F={};M.Callbacks=function(e){e=e?F[e]||I(e):{};var n,r,i,a,o,s,l=[],u=[],c=function(t){var n,r,i,a;for(n=0,r=t.length;r>n;n++)i=t[n],a=M.type(i),"array"===a?c(i):"function"===a&&(!e.unique||!d.has(i))&&l.push(i)},h=function(t,c){for(c=c||[],n=!e.memory||[t,c],r=!0,i=!0,s=a||0,a=0,o=l.length;l&&o>s;s++)if(l[s].apply(t,c)===!1&&e.stopOnFalse){n=!0;break}i=!1,l&&(e.once?n===!0?d.disable():l=[]:u&&u.length&&(n=u.shift(),d.fireWith(n[0],n[1])))},d={add:function(){if(l){var e=l.length;c(arguments),i?o=l.length:n&&n!==!0&&(a=e,h(n[0],n[1]))}return this},remove:function(){if(l)for(var t=arguments,n=0,r=t.length;r>n;n++)for(var a=0;a<l.length&&(t[n]!==l[a]||(i&&o>=a&&(o--,s>=a&&s--),l.splice(a--,1),!e.unique));a++);return this},has:function(e){if(l)for(var t=0,n=l.length;n>t;t++)if(e===l[t])return!0;return!1},empty:function(){return l=[],this},disable:function(){return l=u=n=t,this},disabled:function(){return!l},lock:function(){return u=t,(!n||n===!0)&&d.disable(),this},locked:function(){return!u},fireWith:function(t,r){return u&&(i?e.once||u.push([t,r]):(!e.once||!n)&&h(t,r)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d};var q=[].slice;M.extend({Deferred:function(e){var t,n=M.Callbacks("once memory"),r=M.Callbacks("once memory"),i=M.Callbacks("memory"),a="pending",o={resolve:n,reject:r,notify:i},s={done:n.add,fail:r.add,progress:i.add,state:function(){return a},isResolved:n.fired,isRejected:r.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,n){return M.Deferred(function(r){M.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,i=t[0],a=t[1];l[e](M.isFunction(i)?function(){n=i.apply(this,arguments),n&&M.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[a+"With"](this===l?r:this,[n])}:r[a])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in o)l[t]=o[t].fire,l[t+"With"]=o[t].fireWith;return l.done(function(){a="resolved"},r.disable,i.lock).fail(function(){a="rejected"},n.disable,i.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){o[e]=arguments.length>1?q.call(arguments,0):t,l.notifyWith(u,o)}}function n(e){return function(t){r[e]=arguments.length>1?q.call(arguments,0):t,--s||l.resolveWith(l,r)}}var r=q.call(arguments,0),i=0,a=r.length,o=Array(a),s=a,l=1>=a&&e&&M.isFunction(e.promise)?e:M.Deferred(),u=l.promise();if(a>1){for(;a>i;i++)r[i]&&r[i].promise&&M.isFunction(r[i].promise)?r[i].promise().then(n(i),l.reject,t(i)):--s;s||l.resolveWith(l,r)}else l!==e&&l.resolveWith(l,a?[e]:[]);return u}}),M.support=function(){{var t,n,r,i,a,o,s,l,u,c,h,d=A.createElement("div");A.documentElement}if(d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!n.length||!r)return{};i=A.createElement("select"),a=i.appendChild(A.createElement("option")),o=d.getElementsByTagName("input")[0],t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===o.value,optSelected:a.selected,getSetAttribute:"t"!==d.className,enctype:!!A.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},M.boxModel=t.boxModel="CSS1Compat"===A.compatMode,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(f){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),o=A.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),d.appendChild(o),s=A.createDocumentFragment(),s.appendChild(d.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,s.removeChild(o),s.appendChild(d),d.attachEvent)for(c in{submit:1,change:1,focusin:1})u="on"+c,h=u in d,h||(d.setAttribute(u,"return;"),h="function"==typeof d[u]),t[c+"Bubbles"]=h;return s.removeChild(d),s=i=a=d=o=null,M(function(){var n,r,i,a,o,s,u,c,f,p,m,g,v=A.getElementsByTagName("body")[0];!v||(u=1,g="padding:0;margin:0;border:",p="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",c="style='"+p+g+"5px solid #000;",f="<div "+c+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div><table "+c+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",n=A.createElement("div"),n.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+u+"px",v.insertBefore(n,v.firstChild),d=A.createElement("div"),n.appendChild(d),d.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",l=d.getElementsByTagName("td"),h=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=h&&0===l[0].offsetHeight,e.getComputedStyle&&(d.innerHTML="",s=A.createElement("div"),s.style.width="0",s.style.marginRight="0",d.style.width="2px",d.appendChild(s),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.width=d.style.padding="1px",d.style.border=0,d.style.overflow="hidden",d.style.display="inline",d.style.zoom=1,t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=3!==d.offsetWidth),d.style.cssText=p+m,d.innerHTML=f,r=d.firstChild,i=r.firstChild,a=r.nextSibling.firstChild.firstChild,o={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===a.offsetTop},i.style.position="fixed",i.style.top="20px",o.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",r.style.overflow="hidden",r.style.position="relative",o.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,o.doesNotIncludeMarginInBodyOffset=v.offsetTop!==u,e.getComputedStyle&&(d.style.marginTop="1%",t.pixelMargin="1%"!==(e.getComputedStyle(d,null)||{marginTop:0}).marginTop),"undefined"!=typeof n.style.zoom&&(n.style.zoom=1),v.removeChild(n),s=d=n=null,M.extend(t,o))}),t}();var L=/^(?:\{.*\}|\[.*\])$/,H=/([A-Z])/g;M.extend({cache:{},uuid:0,expando:"jQuery"+(M.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?M.cache[e[M.expando]]:e[M.expando],!!e&&!j(e)},data:function(e,n,r,i){if(M.acceptData(e)){var a,o,s,l=M.expando,u="string"==typeof n,c=e.nodeType,h=c?M.cache:e,d=c?e[l]:e[l]&&l,f="events"===n;if(!(d&&h[d]&&(f||i||h[d].data)||!u||r!==t))return;return d||(c?e[l]=d=++M.uuid:d=l),h[d]||(h[d]={},c||(h[d].toJSON=M.noop)),("object"==typeof n||"function"==typeof n)&&(i?h[d]=M.extend(h[d],n):h[d].data=M.extend(h[d].data,n)),a=o=h[d],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[M.camelCase(n)]=r),f&&!o[n]?a.events:(u?(s=o[n],null==s&&(s=o[M.camelCase(n)])):s=o,s)}},removeData:function(e,t,n){if(M.acceptData(e)){var r,i,a,o=M.expando,s=e.nodeType,l=s?M.cache:e,u=s?e[o]:o;if(!l[u])return;if(t&&(r=n?l[u]:l[u].data)){M.isArray(t)||(t in r?t=[t]:(t=M.camelCase(t),t=t in r?[t]:t.split(" ")));for(i=0,a=t.length;a>i;i++)delete r[t[i]];if(!(n?j:M.isEmptyObject)(r))return}if(!n&&(delete l[u].data,!j(l[u])))return;M.support.deleteExpando||!l.setInterval?delete l[u]:l[u]=null,s&&(M.support.deleteExpando?delete e[o]:e.removeAttribute?e.removeAttribute(o):e[o]=null)}},_data:function(e,t,n){return M.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=M.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),M.fn.extend({data:function(e,n){var r,i,a,o,s,l=this[0],u=0,c=null;if(e===t){if(this.length&&(c=M.data(l),1===l.nodeType&&!M._data(l,"parsedAttrs"))){for(a=l.attributes,s=a.length;s>u;u++)o=a[u].name,0===o.indexOf("data-")&&(o=M.camelCase(o.substring(5)),P(l,o,c[o]));M._data(l,"parsedAttrs",!0)}return c}return"object"==typeof e?this.each(function(){M.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",M.access(this,function(n){return n===t?(c=this.triggerHandler("getData"+i,[r[0]]),c===t&&l&&(c=M.data(l,e),c=P(l,e,c)),c===t&&r[1]?this.data(r[0]):c):(r[1]=n,void this.each(function(){var t=M(this);t.triggerHandler("setData"+i,r),M.data(this,e,n),t.triggerHandler("changeData"+i,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){M.removeData(this,e)})}}),M.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",M._data(e,t,(M._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var r=n+"mark",i=e?0:(M._data(t,r)||1)-1;i?M._data(t,r,i):(M.removeData(t,r,!0),N(t,n,"mark"))}},queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=M._data(e,t),n&&(!r||M.isArray(n)?r=M._data(e,t,M.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=M.queue(e,t),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===t&&n.unshift("inprogress"),M._data(e,t+".run",i),r.call(e,function(){M.dequeue(e,t)},i)),n.length||(M.removeData(e,t+"queue "+t+".run",!0),N(e,t,"queue"))}}),M.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?M.queue(this[0],e):n===t?this:this.each(function(){var t=M.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&M.dequeue(this,e)})},dequeue:function(e){return this.each(function(){M.dequeue(this,e)})},delay:function(e,t){return e=M.fx?M.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function r(){--l||a.resolveWith(o,[o])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var i,a=M.Deferred(),o=this,s=o.length,l=1,u=e+"defer",c=e+"queue",h=e+"mark";s--;)(i=M.data(o[s],u,t,!0)||(M.data(o[s],c,t,!0)||M.data(o[s],h,t,!0))&&M.data(o[s],u,M.Callbacks("once memory"),!0))&&(l++,i.add(r));return r(),a.promise(n)}});var R,V,B,U=/[\n\t\r]/g,$=/\s+/,W=/\r/g,z=/^(?:button|input)$/i,X=/^(?:button|input|object|select|textarea)$/i,J=/^a(?:rea)?$/i,K=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Y=M.support.getSetAttribute;M.fn.extend({attr:function(e,t){return M.access(this,M.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){M.removeAttr(this,e)})},prop:function(e,t){return M.access(this,M.prop,e,t,arguments.length>1)},removeProp:function(e){return e=M.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,a,o,s;if(M.isFunction(e))return this.each(function(t){M(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split($),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(a=" "+i.className+" ",o=0,s=t.length;s>o;o++)~a.indexOf(" "+t[o]+" ")||(a+=t[o]+" ");i.className=M.trim(a)}else i.className=e;return this},removeClass:function(e){var n,r,i,a,o,s,l;if(M.isFunction(e))return this.each(function(t){M(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split($),r=0,i=this.length;i>r;r++)if(a=this[r],1===a.nodeType&&a.className)if(e){for(o=(" "+a.className+" ").replace(U," "),s=0,l=n.length;l>s;s++)o=o.replace(" "+n[s]+" "," ");a.className=M.trim(o)}else a.className="";return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return this.each(M.isFunction(e)?function(n){M(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,a=0,o=M(this),s=t,l=e.split($);i=l[a++];)s=r?s:!o.hasClass(i),o[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&M._data(this,"__className__",this.className),this.className=this.className||e===!1?"":M._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,a=this[0];return arguments.length?(i=M.isFunction(e),this.each(function(r){var a,o=M(this);1===this.nodeType&&(a=i?e.call(this,r,o.val()):e,null==a?a="":"number"==typeof a?a+="":M.isArray(a)&&(a=M.map(a,function(e){return null==e?"":e+""})),n=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))})):a?(n=M.valHooks[a.type]||M.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(a,"value"))!==t?r:(r=a.value,"string"==typeof r?r.replace(W,""):null==r?"":r)):void 0}}),M.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,a=e.selectedIndex,o=[],s=e.options,l="select-one"===e.type;if(0>a)return null;for(n=l?a:0,r=l?a+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(M.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&M.nodeName(i.parentNode,"optgroup"))){if(t=M(i).val(),l)return t;o.push(t)}return l&&!o.length&&s.length?M(s[a]).val():o},set:function(e,t){var n=M.makeArray(t);return M(e).find("option").each(function(){this.selected=M.inArray(M(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var a,o,s,l=e.nodeType;return e&&3!==l&&8!==l&&2!==l?i&&n in M.attrFn?M(e)[n](r):"undefined"==typeof e.getAttribute?M.prop(e,n,r):(s=1!==l||!M.isXMLDoc(e),s&&(n=n.toLowerCase(),o=M.attrHooks[n]||(K.test(n)?V:R)),r!==t?null===r?void M.removeAttr(e,n):o&&"set"in o&&s&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,""+r),r):o&&"get"in o&&s&&null!==(a=o.get(e,n))?a:(a=e.getAttribute(n),null===a?t:a)):void 0},removeAttr:function(e,t){var n,r,i,a,o,s=0;if(t&&1===e.nodeType)for(r=t.toLowerCase().split($),a=r.length;a>s;s++)i=r[s],i&&(n=M.propFix[i]||i,o=K.test(i),o||M.attr(e,i,""),e.removeAttribute(Y?i:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(z.test(e.nodeName)&&e.parentNode)M.error("type property can't be changed");else if(!M.support.radioValue&&"radio"===t&&M.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return R&&M.nodeName(e,"button")?R.get(e,t):t in e?e.value:null},set:function(e,t,n){return R&&M.nodeName(e,"button")?R.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,a,o,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(o=1!==s||!M.isXMLDoc(e),o&&(n=M.propFix[n]||n,a=M.propHooks[n]),r!==t?a&&"set"in a&&(i=a.set(e,r,n))!==t?i:e[n]=r:a&&"get"in a&&null!==(i=a.get(e,n))?i:e[n]):void 0},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):X.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:t}}}}),M.attrHooks.tabindex=M.propHooks.tabIndex,V={get:function(e,n){var r,i=M.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?M.removeAttr(e,n):(r=M.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Y||(B={name:!0,id:!0,coords:!0},R=M.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(B[n]?""!==r.nodeValue:r.specified)?r.nodeValue:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=A.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},M.attrHooks.tabindex.set=R.set,M.each(["width","height"],function(e,t){M.attrHooks[t]=M.extend(M.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),M.attrHooks.contenteditable={get:R.get,set:function(e,t,n){""===t&&(t="false"),R.set(e,t,n)}}),M.support.hrefNormalized||M.each(["href","src","width","height"],function(e,n){M.attrHooks[n]=M.extend(M.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),M.support.style||(M.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),M.support.optSelected||(M.propHooks.selected=M.extend(M.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),M.support.enctype||(M.propFix.enctype="encoding"),M.support.checkOn||M.each(["radio","checkbox"],function(){M.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]=M.extend(M.valHooks[this],{set:function(e,t){return M.isArray(t)?e.checked=M.inArray(M(e).val(),t)>=0:void 0}})});var Q=/^(?:textarea|input|select)$/i,G=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,ee=/^key/,te=/^(?:mouse|contextmenu)|click/,ne=/^(?:focusinfocus|focusoutblur)$/,re=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ie=function(e){
var t=re.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},ae=function(e,t){var n=e.attributes||{};return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&(n.id||{}).value!==t[2]||t[3]&&!t[3].test((n["class"]||{}).value))},oe=function(e){return M.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};M.event={add:function(e,n,r,i,a){var o,s,l,u,c,h,d,f,p,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(o=M._data(e))){for(r.handler&&(p=r,r=p.handler,a=p.selector),r.guid||(r.guid=M.guid++),l=o.events,l||(o.events=l={}),s=o.handle,s||(o.handle=s=function(e){return"undefined"==typeof M||e&&M.event.triggered===e.type?t:M.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=M.trim(oe(n)).split(" "),u=0;u<n.length;u++)c=G.exec(n[u])||[],h=c[1],d=(c[2]||"").split(".").sort(),g=M.event.special[h]||{},h=(a?g.delegateType:g.bindType)||h,g=M.event.special[h]||{},f=M.extend({type:h,origType:c[1],data:i,handler:r,guid:r.guid,selector:a,quick:a&&ie(a),namespace:d.join(".")},p),m=l[h],m||(m=l[h]=[],m.delegateCount=0,g.setup&&g.setup.call(e,i,d,s)!==!1||(e.addEventListener?e.addEventListener(h,s,!1):e.attachEvent&&e.attachEvent("on"+h,s))),g.add&&(g.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),a?m.splice(m.delegateCount++,0,f):m.push(f),M.event.global[h]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var a,o,s,l,u,c,h,d,f,p,m,g,v=M.hasData(e)&&M._data(e);if(v&&(d=v.events)){for(t=M.trim(oe(t||"")).split(" "),a=0;a<t.length;a++)if(o=G.exec(t[a])||[],s=l=o[1],u=o[2],s){for(f=M.event.special[s]||{},s=(r?f.delegateType:f.bindType)||s,m=d[s]||[],c=m.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,h=0;h<m.length;h++)g=m[h],!(!i&&l!==g.origType||n&&n.guid!==g.guid||u&&!u.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(m.splice(h--,1),g.selector&&m.delegateCount--,!f.remove||!f.remove.call(e,g)));0===m.length&&c!==m.length&&((!f.teardown||f.teardown.call(e,u)===!1)&&M.removeEvent(e,s,v.handle),delete d[s])}else for(s in d)M.event.remove(e,s+t[a],n,r,!0);M.isEmptyObject(d)&&(p=v.handle,p&&(p.elem=null),M.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,a){if(!i||3!==i.nodeType&&8!==i.nodeType){var o,s,l,u,c,h,d,f,p,m,g=n.type||n,v=[];if(ne.test(g+M.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),(!i||M.event.customEvent[g])&&!M.event.global[g])return;if(n="object"==typeof n?n[M.expando]?n:new M.Event(g,n):new M.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,h=g.indexOf(":")<0?"on"+g:"",!i){o=M.cache;for(l in o)o[l].events&&o[l].events[g]&&M.event.trigger(n,r,o[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=i),r=null!=r?M.makeArray(r):[],r.unshift(n),d=M.event.special[g]||{},d.trigger&&d.trigger.apply(i,r)===!1)return;if(p=[[i,d.bindType||g]],!a&&!d.noBubble&&!M.isWindow(i)){for(m=d.delegateType||g,u=ne.test(m+g)?i:i.parentNode,c=null;u;u=u.parentNode)p.push([u,m]),c=u;c&&c===i.ownerDocument&&p.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<p.length&&!n.isPropagationStopped();l++)u=p[l][0],n.type=p[l][1],f=(M._data(u,"events")||{})[n.type]&&M._data(u,"handle"),f&&f.apply(u,r),f=h&&u[h],f&&M.acceptData(u)&&f.apply(u,r)===!1&&n.preventDefault();return n.type=g,!(a||n.isDefaultPrevented()||d._default&&d._default.apply(i.ownerDocument,r)!==!1||"click"===g&&M.nodeName(i,"a")||!M.acceptData(i)||!h||!i[g]||("focus"===g||"blur"===g)&&0===n.target.offsetWidth||M.isWindow(i)||(c=i[h],c&&(i[h]=null),M.event.triggered=g,i[g](),M.event.triggered=t,!c||!(i[h]=c))),n.result}},dispatch:function(n){n=M.event.fix(n||e.event);var r,i,a,o,s,l,u,c,h,d,f=(M._data(this,"events")||{})[n.type]||[],p=f.delegateCount,m=[].slice.call(arguments,0),g=!n.exclusive&&!n.namespace,v=M.event.special[n.type]||{},y=[];if(m[0]=n,n.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,n)!==!1){if(p&&(!n.button||"click"!==n.type))for(o=M(this),o.context=this.ownerDocument||this,a=n.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0){for(l={},c=[],o[0]=a,r=0;p>r;r++)h=f[r],d=h.selector,l[d]===t&&(l[d]=h.quick?ae(a,h.quick):o.is(d)),l[d]&&c.push(h);c.length&&y.push({elem:a,matches:c})}for(f.length>p&&y.push({elem:this,matches:f.slice(p)}),r=0;r<y.length&&!n.isPropagationStopped();r++)for(u=y[r],n.currentTarget=u.elem,i=0;i<u.matches.length&&!n.isImmediatePropagationStopped();i++)h=u.matches[i],(g||!n.namespace&&!h.namespace||n.namespace_re&&n.namespace_re.test(h.namespace))&&(n.data=h.data,n.handleObj=h,s=((M.event.special[h.origType]||{}).handle||h.handler).apply(u.elem,m),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||A,i=r.documentElement,a=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),!e.which&&o!==t&&(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[M.expando])return e;var n,r,i=e,a=M.event.fixHooks[e.type]||{},o=a.props?this.props.concat(a.props):this.props;for(e=M.Event(i),n=o.length;n;)r=o[--n],e[r]=i[r];return e.target||(e.target=i.srcElement||A),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),a.filter?a.filter(e,i):e},special:{ready:{setup:M.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){M.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=M.extend(new M.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?M.event.trigger(i,null,t):M.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},M.event.handle=M.event.dispatch,M.removeEvent=A.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},M.Event=function(e,t){return this instanceof M.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?C:k):this.type=e,t&&M.extend(this,t),this.timeStamp=e&&e.timeStamp||M.now(),this[M.expando]=!0,void 0):new M.Event(e,t)},M.Event.prototype={preventDefault:function(){this.isDefaultPrevented=C;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=C;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=C,this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k},M.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){M.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,r=this,i=e.relatedTarget,a=e.handleObj;a.selector}return(!i||i!==r&&!M.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),M.support.submitBubbles||(M.event.special.submit={setup:function(){return M.nodeName(this,"form")?!1:void M.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=M.nodeName(n,"input")||M.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(M.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&M.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return M.nodeName(this,"form")?!1:void M.event.remove(this,"._submit")}}),M.support.changeBubbles||(M.event.special.change={setup:function(){return Q.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(M.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),M.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,M.event.simulate("change",this,e,!0))})),!1):void M.event.add(this,"beforeactivate._change",function(e){var t=e.target;Q.test(t.nodeName)&&!t._change_attached&&(M.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&M.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return M.event.remove(this,"._change"),Q.test(this.nodeName)}}),M.support.focusinBubbles||M.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){M.event.simulate(t,e.target,M.event.fix(e),!0)};M.event.special[t]={setup:function(){0===n++&&A.addEventListener(e,r,!0)},teardown:function(){0===--n&&A.removeEventListener(e,r,!0)}}}),M.fn.extend({on:function(e,n,r,i,a){var o,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(s in e)this.on(s,n,r,e[s],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=k;else if(!i)return this;return 1===a&&(o=i,i=function(e){return M().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=M.guid++)),this.each(function(){M.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return M(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==typeof e){for(var a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=k),this.each(function(){M.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return M(this.context).on(e,this.selector,t,n),this},die:function(e,t){return M(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){M.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?M.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||M.guid++,r=0,i=function(n){var i=(M._data(this,"lastToggle"+e.guid)||0)%r;return M._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),M.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){M.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},M.attrFn&&(M.attrFn[t]=!0),ee.test(t)&&(M.event.fixHooks[t]=M.event.keyHooks),te.test(t)&&(M.event.fixHooks[t]=M.event.mouseHooks)}),function(){function e(e,t,n,r,a,o){for(var s=0,l=r.length;l>s;s++){var u=r[s];if(u){var c=!1;for(u=u[e];u;){if(u[i]===n){c=r[u.sizset];break}if(1===u.nodeType)if(o||(u[i]=n,u.sizset=s),"string"!=typeof t){if(u===t){c=!0;break}}else if(d.filter(t,[u]).length>0){c=u;break}u=u[e]}r[s]=c}}}function n(e,t,n,r,a,o){for(var s=0,l=r.length;l>s;s++){var u=r[s];if(u){var c=!1;for(u=u[e];u;){if(u[i]===n){c=r[u.sizset];break}if(1===u.nodeType&&!o&&(u[i]=n,u.sizset=s),u.nodeName.toLowerCase()===t){c=u;break}u=u[e]}r[s]=c}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),a=0,o=Object.prototype.toString,s=!1,l=!0,u=/\\/g,c=/\r\n/g,h=/\W/;[0,0].sort(function(){return l=!1,0});var d=function(e,t,n,i){n=n||[],t=t||A;var a=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var s,l,u,c,h,f,g,v,b=!0,x=d.isXML(t),w=[],S=e;do if(r.exec(""),s=r.exec(S),s&&(S=s[3],w.push(s[1]),s[2])){c=s[3];break}while(s);if(w.length>1&&m.exec(e))if(2===w.length&&p.relative[w[0]])l=_(w[0]+w[1],t,i);else for(l=p.relative[w[0]]?[t]:d(w.shift(),t);w.length;)e=w.shift(),p.relative[e]&&(e+=w.shift()),l=_(e,l,i);else if(!i&&w.length>1&&9===t.nodeType&&!x&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1])&&(h=d.find(w.shift(),t,x),t=h.expr?d.filter(h.expr,h.set)[0]:h.set[0]),t)for(h=i?{expr:w.pop(),set:y(i)}:d.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,x),l=h.expr?d.filter(h.expr,h.set):h.set,w.length>0?u=y(l):b=!1;w.length;)f=w.pop(),g=f,p.relative[f]?g=w.pop():f="",null==g&&(g=t),p.relative[f](u,g,x);else u=w=[];if(u||(u=l),u||d.error(f||e),"[object Array]"===o.call(u))if(b)if(t&&1===t.nodeType)for(v=0;null!=u[v];v++)u[v]&&(u[v]===!0||1===u[v].nodeType&&d.contains(t,u[v]))&&n.push(l[v]);else for(v=0;null!=u[v];v++)u[v]&&1===u[v].nodeType&&n.push(l[v]);else n.push.apply(n,u);else y(u,n);return c&&(d(c,a,n,i),d.uniqueSort(n)),n};d.uniqueSort=function(e){if(x&&(s=l,e.sort(x),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},d.matches=function(e,t){return d(e,null,null,t)},d.matchesSelector=function(e,t){return d(t,null,null,[e]).length>0},d.find=function(e,t,n){var r,i,a,o,s,l;if(!e)return[];for(i=0,a=p.order.length;a>i;i++)if(s=p.order[i],(o=p.leftMatch[s].exec(e))&&(l=o[1],o.splice(1,1),"\\"!==l.substr(l.length-1)&&(o[1]=(o[1]||"").replace(u,""),r=p.find[s](o,t,n),null!=r))){e=e.replace(p.match[s],"");break}return r||(r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:r,expr:e}},d.filter=function(e,n,r,i){for(var a,o,s,l,u,c,h,f,m,g=e,v=[],y=n,b=n&&n[0]&&d.isXML(n[0]);e&&n.length;){for(s in p.filter)if(null!=(a=p.leftMatch[s].exec(e))&&a[2]){if(c=p.filter[s],h=a[1],o=!1,a.splice(1,1),"\\"===h.substr(h.length-1))continue;if(y===v&&(v=[]),p.preFilter[s])if(a=p.preFilter[s](a,y,r,v,i,b)){if(a===!0)continue}else o=l=!0;if(a)for(f=0;null!=(u=y[f]);f++)u&&(l=c(u,a,f,y),m=i^l,r&&null!=l?m?o=!0:y[f]=!1:m&&(v.push(u),o=!0));if(l!==t){if(r||(y=v),e=e.replace(p.match[s],""),!o)return[];break}}if(e===g){if(null!=o)break;d.error(e)}g=e}return y},d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var f=d.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(c,"");for(e=e.firstChild;e;e=e.nextSibling)i+=f(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(i+=f(n));return i},p=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!h.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var a,o=0,s=e.length;s>o;o++)if(a=e[o]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[o]=i||a&&a.nodeName.toLowerCase()===t?a||!1:a===t}i&&d.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,i=0,a=e.length;if(r&&!h.test(t)){for(t=t.toLowerCase();a>i;i++)if(n=e[i]){var o=n.parentNode;e[i]=o.nodeName.toLowerCase()===t?o:!1}}else{for(;a>i;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&d.filter(t,e,!0)}},"":function(t,r,i){var o,s=a++,l=e;"string"==typeof r&&!h.test(r)&&(r=r.toLowerCase(),o=r,l=n),l("parentNode",r,s,t,o,i)},"~":function(t,r,i){var o,s=a++,l=e;"string"==typeof r&&!h.test(r)&&(r=r.toLowerCase(),o=r,l=n),l("previousSibling",r,s,t,o,i)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),i=0,a=r.length;a>i;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,r,i,a){if(e=" "+e[1].replace(u,"")+" ",a)return e;for(var o,s=0;null!=(o=t[s]);s++)o&&(i^(o.className&&(" "+o.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(o):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(u,"")},TAG:function(e){return e[1].replace(u,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||d.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&d.error(e[0]);return e[0]=a++,e},ATTR:function(e,t,n,r,i,a){var o=e[1]=e[1].replace(u,"");return!a&&p.attrMap[o]&&(e[1]=p.attrMap[o]),e[4]=(e[4]||e[5]||"").replace(u,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,a){if("not"===e[1]){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var o=d.filter(e[3],t,n,!0^a);return n||i.push.apply(i,o),!1}e[3]=d(e[3],null,null,t)}else if(p.match.POS.test(e[0])||p.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!d(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],a=p.filters[i];if(a)return a(e,n,t,r);if("contains"===i)return(e.textContent||e.innerText||f([e])||"").indexOf(t[3])>=0;if("not"===i){for(var o=t[3],s=0,l=o.length;l>s;s++)if(o[s]===e)return!1;return!0}d.error(i)},CHILD:function(e,t){var n,r,a,o,s,l,u=t[1],c=e;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=t[2],r=t[3],1===n&&0===r)return!0;if(a=t[0],o=e.parentNode,o&&(o[i]!==a||!e.nodeIndex)){for(s=0,c=o.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);o[i]=a}return l=e.nodeIndex-r,0===n?0===l:l%n===0&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=d.attr?d.attr(e,n):p.attrHandle[n]?p.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),i=r+"",a=t[2],o=t[4];return null==r?"!="===a:!a&&d.attr?null!=r:"="===a?i===o:"*="===a?i.indexOf(o)>=0:"~="===a?(" "+i+" ").indexOf(o)>=0:o?"!="===a?i!==o:"^="===a?0===i.indexOf(o):"$="===a?i.substr(i.length-o.length)===o:"|="===a?i===o||i.substr(0,o.length+1)===o+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],a=p.setFilters[i];return a?a(e,n,t,r):void 0}}},m=p.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var v in p.match)p.match[v]=new RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,g));p.match.globalPOS=m;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(A.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if("[object Array]"===o.call(e))Array.prototype.push.apply(r,e);else if("number"==typeof e.length)for(var i=e.length;i>n;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var x,w;A.documentElement.compareDocumentPosition?x=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(x=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],a=[],o=e.parentNode,l=t.parentNode,u=o;if(o===l)return w(e,t);if(!o)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)a.unshift(u),u=u.parentNode;n=i.length,r=a.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==a[c])return w(i[c],a[c]);return c===n?w(e,a[c],-1):w(i[c],t,1)},w=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=A.createElement("div"),n="script"+(new Date).getTime(),r=A.documentElement;e.innerHTML="<a name='"+n+"'/>",r.insertBefore(e,r.firstChild),A.getElementById(n)&&(p.find.ID=function(e,n,r){if("undefined"!=typeof n.getElementById&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},p.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),r.removeChild(e),r=e=null}(),function(){var e=A.createElement("div");e.appendChild(A.createComment("")),e.getElementsByTagName("*").length>0&&(p.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(p.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),A.querySelectorAll&&function(){var e=d,t=A.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){d=function(t,r,i,a){if(r=r||A,!a&&!d.isXML(r)){var o=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(o&&(1===r.nodeType||9===r.nodeType)){if(o[1])return y(r.getElementsByTagName(t),i);if(o[2]&&p.find.CLASS&&r.getElementsByClassName)return y(r.getElementsByClassName(o[2]),i)}if(9===r.nodeType){if("body"===t&&r.body)return y([r.body],i);if(o&&o[3]){var s=r.getElementById(o[3]);if(!s||!s.parentNode)return y([],i);if(s.id===o[3])return y([s],i)}try{return y(r.querySelectorAll(t),i)}catch(l){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var u=r,c=r.getAttribute("id"),h=c||n,f=r.parentNode,m=/^\s*[+~]/.test(t);c?h=h.replace(/'/g,"\\$&"):r.setAttribute("id",h),m&&f&&(r=r.parentNode);try{if(!m||f)return y(r.querySelectorAll("[id='"+h+"'] "+t),i)}catch(g){}finally{c||u.removeAttribute("id")}}}return e(t,r,i,a)};for(var r in e)d[r]=e[r];t=null}}(),function(){var e=A.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(A.createElement("div"),"div"),r=!1;try{t.call(A.documentElement,"[test!='']:sizzle")}catch(i){r=!0}d.matchesSelector=function(e,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(e))try{if(r||!p.match.PSEUDO.test(i)&&!/!=/.test(i)){var a=t.call(e,i);if(a||!n||e.document&&11!==e.document.nodeType)return a}}catch(o){}return d(i,null,null,[e]).length>0}}}(),function(){var e=A.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;p.order.splice(1,0,"CLASS"),p.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null}}(),d.contains=A.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:A.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},d.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var _=function(e,t,n){for(var r,i=[],a="",o=t.nodeType?[t]:t;r=p.match.PSEUDO.exec(e);)a+=r[0],e=e.replace(p.match.PSEUDO,"");e=p.relative[e]?e+"*":e;for(var s=0,l=o.length;l>s;s++)d(e,o[s],i,n);return d.filter(a,i)};d.attr=M.attr,d.selectors.attrMap={},M.find=d,M.expr=d.selectors,M.expr[":"]=M.expr.filters,M.unique=d.uniqueSort,M.text=d.getText,M.isXMLDoc=d.isXML,M.contains=d.contains}();var se=/Until$/,le=/^(?:parents|prevUntil|prevAll)/,ue=/,/,ce=/^.[^:#\[\.,]*$/,he=Array.prototype.slice,de=M.expr.match.globalPOS,fe={children:!0,contents:!0,next:!0,prev:!0};M.fn.extend({find:function(e){var t,n,r=this;if("string"!=typeof e)return M(e).filter(function(){for(t=0,n=r.length;n>t;t++)if(M.contains(r[t],this))return!0});var i,a,o,s=this.pushStack("","find",e);for(t=0,n=this.length;n>t;t++)if(i=s.length,M.find(e,this[t],s),t>0)for(a=i;a<s.length;a++)for(o=0;i>o;o++)if(s[o]===s[a]){s.splice(a--,1);break}return s},has:function(e){var t=M(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(M.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(E(this,e,!1),"not",e)},filter:function(e){return this.pushStack(E(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?de.test(e)?M(e,this.context).index(this[0])>=0:M.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r,i=[],a=this[0];if(M.isArray(e)){for(var o=1;a&&a.ownerDocument&&a!==t;){for(n=0;n<e.length;n++)M(a).is(e[n])&&i.push({selector:e[n],elem:a,level:o});a=a.parentNode,o++}return i}var s=de.test(e)||"string"!=typeof e?M(e,t||this.context):0;for(n=0,r=this.length;r>n;n++)for(a=this[n];a;){if(s?s.index(a)>-1:M.find.matchesSelector(a,e)){i.push(a);break}if(a=a.parentNode,!a||!a.ownerDocument||a===t||11===a.nodeType)break}return i=i.length>1?M.unique(i):i,this.pushStack(i,"closest",e)},index:function(e){return e?"string"==typeof e?M.inArray(this[0],M(e)):M.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?M(e,t):M.makeArray(e&&e.nodeType?[e]:e),r=M.merge(this.get(),n);return this.pushStack(T(n[0])||T(r[0])?r:M.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),M.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return M.dir(e,"parentNode")},parentsUntil:function(e,t,n){return M.dir(e,"parentNode",n)},next:function(e){return M.nth(e,2,"nextSibling")},prev:function(e){return M.nth(e,2,"previousSibling")},nextAll:function(e){return M.dir(e,"nextSibling")},prevAll:function(e){return M.dir(e,"previousSibling")},nextUntil:function(e,t,n){return M.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return M.dir(e,"previousSibling",n)},siblings:function(e){return M.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return M.sibling(e.firstChild)},contents:function(e){return M.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:M.makeArray(e.childNodes)}},function(e,t){M.fn[e]=function(n,r){var i=M.map(this,t,n);return se.test(e)||(r=n),r&&"string"==typeof r&&(i=M.filter(r,i)),i=this.length>1&&!fe[e]?M.unique(i):i,(this.length>1||ue.test(r))&&le.test(e)&&(i=i.reverse()),this.pushStack(i,e,he.call(arguments).join(","))}}),M.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?M.find.matchesSelector(t[0],e)?[t[0]]:[]:M.find.matches(e,t)},dir:function(e,n,r){for(var i=[],a=e[n];a&&9!==a.nodeType&&(r===t||1!==a.nodeType||!M(a).is(r));)1===a.nodeType&&i.push(a),a=a[n];return i},nth:function(e,t,n){t=t||1;for(var r=0;e&&(1!==e.nodeType||++r!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var pe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:\d+|null)"/g,ge=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ye=/<([\w:]+)/,be=/<tbody/i,xe=/<|&#?\w+;/,we=/<(?:script|style)/i,_e=/<(?:script|object|embed|option|style)/i,Se=new RegExp("<(?:"+pe+")[\\s/>]","i"),Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/\/(java|ecma)script/i,Ce=/^\s*<!(?:\[CDATA\[|\-\-)/,ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ne=S(A);ke.optgroup=ke.option,ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,M.support.htmlSerialize||(ke._default=[1,"div<div>","</div>"]),M.fn.extend({text:function(e){return M.access(this,function(e){return e===t?M.text(this):this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(M.isFunction(e))return this.each(function(t){M(this).wrapAll(e.call(this,t))});if(this[0]){var t=M(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(M.isFunction(e)?function(t){M(this).wrapInner(e.call(this,t))}:function(){var t=M(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){
var t=M.isFunction(e);return this.each(function(n){M(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){M.nodeName(this,"body")||M(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=M.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,M.clean(arguments)),e}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||M.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(M.cleanData(n.getElementsByTagName("*")),M.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&M.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return M.clone(this,e,t)})},html:function(e){return M.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(me,""):null;if(!("string"!=typeof e||we.test(e)||!M.support.leadingWhitespace&&ge.test(e)||ke[(ye.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(ve,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(M.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?M.isFunction(e)?this.each(function(t){var n=M(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=M(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;M(this).remove(),t?M(t).before(e):M(n).append(e)})):this.length?this.pushStack(M(M.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,a,o,s,l=e[0],u=[];if(!M.support.checkClone&&3===arguments.length&&"string"==typeof l&&Ee.test(l))return this.each(function(){M(this).domManip(e,n,r,!0)});if(M.isFunction(l))return this.each(function(i){var a=M(this);e[0]=l.call(this,i,n?a.html():t),a.domManip(e,n,r)});if(this[0]){if(s=l&&l.parentNode,i=M.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:M.buildFragment(e,this,u),o=i.fragment,a=1===o.childNodes.length?o=o.firstChild:o.firstChild,a){n=n&&M.nodeName(a,"tr");for(var c=0,h=this.length,d=h-1;h>c;c++)r.call(n?_(this[c],a):this[c],i.cacheable||h>1&&d>c?M.clone(o,!0,!0):o)}u.length&&M.each(u,function(e,t){t.src?M.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):M.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ce,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),M.buildFragment=function(e,t,n){var r,i,a,o,s=e[0];return t&&t[0]&&(o=t[0].ownerDocument||t[0]),o.createDocumentFragment||(o=A),1===e.length&&"string"==typeof s&&s.length<512&&o===A&&"<"===s.charAt(0)&&!_e.test(s)&&(M.support.checkClone||!Ee.test(s))&&(M.support.html5Clone||!Se.test(s))&&(i=!0,a=M.fragments[s],a&&1!==a&&(r=a)),r||(r=o.createDocumentFragment(),M.clean(e,o,r,n)),i&&(M.fragments[s]=a?r:1),{fragment:r,cacheable:i}},M.fragments={},M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){M.fn[e]=function(n){var r=[],i=M(n),a=1===this.length&&this[0].parentNode;if(a&&11===a.nodeType&&1===a.childNodes.length&&1===i.length)return i[t](this[0]),this;for(var o=0,s=i.length;s>o;o++){var l=(o>0?this.clone(!0):this).get();M(i[o])[t](l),r=r.concat(l)}return this.pushStack(r,e,i.selector)}}),M.extend({clone:function(e,t,n){var r,i,a,o=M.support.html5Clone||M.isXMLDoc(e)||!Se.test("<"+e.nodeName+">")?e.cloneNode(!0):g(e);if(!(M.support.noCloneEvent&&M.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||M.isXMLDoc(e)))for(x(e,o),r=b(e),i=b(o),a=0;r[a];++a)i[a]&&x(r[a],i[a]);if(t&&(w(e,o),n))for(r=b(e),i=b(o),a=0;r[a];++a)w(r[a],i[a]);return r=i=null,o},clean:function(e,t,n,r){var i,a,o,s=[];t=t||A,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||A);for(var l,u=0;null!=(l=e[u]);u++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(xe.test(l)){l=l.replace(ve,"<$1></$2>");var c,h=(ye.exec(l)||["",""])[1].toLowerCase(),d=ke[h]||ke._default,f=d[0],p=t.createElement("div"),m=Ne.childNodes;for(t===A?Ne.appendChild(p):S(t).appendChild(p),p.innerHTML=d[1]+l+d[2];f--;)p=p.lastChild;if(!M.support.tbody){var g=be.test(l),y="table"!==h||g?"<table>"!==d[1]||g?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes;for(o=y.length-1;o>=0;--o)M.nodeName(y[o],"tbody")&&!y[o].childNodes.length&&y[o].parentNode.removeChild(y[o])}!M.support.leadingWhitespace&&ge.test(l)&&p.insertBefore(t.createTextNode(ge.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),m.length>0&&(c=m[m.length-1],c&&c.parentNode&&c.parentNode.removeChild(c)))}else l=t.createTextNode(l);var b;if(!M.support.appendChecked)if(l[0]&&"number"==typeof(b=l.length))for(o=0;b>o;o++)v(l[o]);else v(l);l.nodeType?s.push(l):s=M.merge(s,l)}if(n)for(i=function(e){return!e.type||Te.test(e.type)},u=0;s[u];u++)if(a=s[u],r&&M.nodeName(a,"script")&&(!a.type||Te.test(a.type)))r.push(a.parentNode?a.parentNode.removeChild(a):a);else{if(1===a.nodeType){var x=M.grep(a.getElementsByTagName("script"),i);s.splice.apply(s,[u+1,0].concat(x))}n.appendChild(a)}return s},cleanData:function(e){for(var t,n,r,i=M.cache,a=M.event.special,o=M.support.deleteExpando,s=0;null!=(r=e[s]);s++)if((!r.nodeName||!M.noData[r.nodeName.toLowerCase()])&&(n=r[M.expando])){if(t=i[n],t&&t.events){for(var l in t.events)a[l]?M.event.remove(r,l):M.removeEvent(r,l,t.handle);t.handle&&(t.handle.elem=null)}o?delete r[M.expando]:r.removeAttribute&&r.removeAttribute(M.expando),delete i[n]}}});var je,Pe,Ie,Ae=/alpha\([^)]*\)/i,Oe=/opacity=([^)]*)/,De=/([A-Z]|^ms)/g,Me=/^[\-+]?(?:\d*\.)?\d+$/i,Fe=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,qe=/^([\-+])=([\-+.\de]+)/,Le=/^margin/,He={position:"absolute",visibility:"hidden",display:"block"},Re=["Top","Right","Bottom","Left"];M.fn.css=function(e,n){return M.access(this,function(e,n,r){return r!==t?M.style(e,n,r):M.css(e,n)},e,n,arguments.length>1)},M.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=je(e,"opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":M.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s=M.camelCase(n),l=e.style,u=M.cssHooks[s];if(n=M.cssProps[s]||s,r===t)return u&&"get"in u&&(a=u.get(e,!1,i))!==t?a:l[n];if(o=typeof r,"string"===o&&(a=qe.exec(r))&&(r=+(a[1]+1)*+a[2]+parseFloat(M.css(e,n)),o="number"),null==r||"number"===o&&isNaN(r))return;if("number"===o&&!M.cssNumber[s]&&(r+="px"),!(u&&"set"in u&&(r=u.set(e,r))===t))try{l[n]=r}catch(c){}}},css:function(e,n,r){var i,a;return n=M.camelCase(n),a=M.cssHooks[n],n=M.cssProps[n]||n,"cssFloat"===n&&(n="float"),a&&"get"in a&&(i=a.get(e,!0,r))!==t?i:je?je(e,n):void 0},swap:function(e,t,n){var r,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=a[i];return r}}),M.curCSS=M.css,A.defaultView&&A.defaultView.getComputedStyle&&(Pe=function(e,t){var n,r,i,a,o=e.style;return t=t.replace(De,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),""===n&&!M.contains(e.ownerDocument.documentElement,e)&&(n=M.style(e,t))),!M.support.pixelMargin&&i&&Le.test(t)&&Fe.test(n)&&(a=o.width,o.width=n,n=i.width,o.width=a),n}),A.documentElement.currentStyle&&(Ie=function(e,t){var n,r,i,a=e.currentStyle&&e.currentStyle[t],o=e.style;return null==a&&o&&(i=o[t])&&(a=i),Fe.test(a)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":a,a=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===a?"auto":a}),je=Pe||Ie,M.each(["height","width"],function(e,t){M.cssHooks[t]={get:function(e,n,r){return n?0!==e.offsetWidth?m(e,t,r):M.swap(e,He,function(){return m(e,t,r)}):void 0},set:function(e,t){return Me.test(t)?t+"px":t}}}),M.support.opacity||(M.cssHooks.opacity={get:function(e,t){return Oe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=M.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===M.trim(a.replace(Ae,""))&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=Ae.test(a)?a.replace(Ae,i):a+" "+i)}}),M(function(){M.support.reliableMarginRight||(M.cssHooks.marginRight={get:function(e,t){return M.swap(e,{display:"inline-block"},function(){return t?je(e,"margin-right"):e.style.marginRight})}})}),M.expr&&M.expr.filters&&(M.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!M.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||M.css(e,"display"))},M.expr.filters.visible=function(e){return!M.expr.filters.hidden(e)}),M.each({margin:"",padding:"",border:"Width"},function(e,t){M.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],a={};for(r=0;4>r;r++)a[e+Re[r]+t]=i[r]||i[r-2]||i[0];return a}}});var Ve,Be,Ue=/%20/g,$e=/\[\]$/,We=/\r?\n/g,ze=/#.*$/,Xe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Je=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ke=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,Qe=/^\/\//,Ge=/\?/,Ze=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,et=/^(?:select|textarea)/i,tt=/\s+/,nt=/([?&])_=[^&]*/,rt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,it=M.fn.load,at={},ot={},st=["*/"]+["*"];try{Ve=D.href}catch(lt){Ve=A.createElement("a"),Ve.href="",Ve=Ve.href}Be=rt.exec(Ve.toLowerCase())||[],M.fn.extend({load:function(e,n,r){if("string"!=typeof e&&it)return it.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var a=e.slice(i,e.length);e=e.slice(0,i)}var o="GET";n&&(M.isFunction(n)?(r=n,n=t):"object"==typeof n&&(n=M.param(n,M.ajaxSettings.traditional),o="POST"));var s=this;return M.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),s.html(a?M("<div>").append(n.replace(Ze,"")).find(a):n)),r&&s.each(r,[n,t,e])}}),this},serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?M.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||et.test(this.nodeName)||Je.test(this.type))}).map(function(e,t){var n=M(this).val();return null==n?null:M.isArray(n)?M.map(n,function(e){return{name:t.name,value:e.replace(We,"\r\n")}}):{name:t.name,value:n.replace(We,"\r\n")}}).get()}}),M.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){M.fn[t]=function(e){return this.on(t,e)}}),M.each(["get","post"],function(e,n){M[n]=function(e,r,i,a){return M.isFunction(r)&&(a=a||i,i=r,r=t),M.ajax({type:n,url:e,data:r,success:i,dataType:a})}}),M.extend({getScript:function(e,n){return M.get(e,t,n,"script")},getJSON:function(e,t,n){return M.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?d(e,M.ajaxSettings):(t=e,e=M.ajaxSettings),d(e,t),e},ajaxSettings:{url:Ve,isLocal:Ke.test(Be[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":st},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":M.parseJSON,"text xml":M.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:p(at),ajaxTransport:p(ot),ajax:function(e,n){function r(e,n,r,o){if(2!==S){S=2,l&&clearTimeout(l),s=t,a=o||"",E.readyState=e>0?4:0;var h,f,p,w,_,T=n,C=r?c(m,E,r):t;if(e>=200&&300>e||304===e)if(m.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(M.lastModified[i]=w),(_=E.getResponseHeader("Etag"))&&(M.etag[i]=_)),304===e)T="notmodified",h=!0;else try{f=u(m,C),T="success",h=!0}catch(k){T="parsererror",p=k}else p=T,(!T||e)&&(T="error",0>e&&(e=0));E.status=e,E.statusText=""+(n||T),h?y.resolveWith(g,[f,T,E]):y.rejectWith(g,[E,T,p]),E.statusCode(x),x=t,d&&v.trigger("ajax"+(h?"Success":"Error"),[E,m,h?f:p]),b.fireWith(g,[E,T]),d&&(v.trigger("ajaxComplete",[E,m]),--M.active||M.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var i,a,o,s,l,h,d,p,m=M.ajaxSetup({},n),g=m.context||m,v=g!==m&&(g.nodeType||g instanceof M)?M(g):M.event,y=M.Deferred(),b=M.Callbacks("once memory"),x=m.statusCode||{},w={},_={},S=0,E={readyState:0,setRequestHeader:function(e,t){if(!S){var n=e.toLowerCase();e=_[n]=_[n]||e,w[e]=t}return this},getAllResponseHeaders:function(){return 2===S?a:null},getResponseHeader:function(e){var n;if(2===S){if(!o)for(o={};n=Xe.exec(a);)o[n[1].toLowerCase()]=n[2];n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return S||(m.mimeType=e),this},abort:function(e){return e=e||"abort",s&&s.abort(e),r(0,e),this}};if(y.promise(E),E.success=E.done,E.error=E.fail,E.complete=b.add,E.statusCode=function(e){if(e){var t;if(2>S)for(t in e)x[t]=[x[t],e[t]];else t=e[E.status],E.then(t,t)}return this},m.url=((e||m.url)+"").replace(ze,"").replace(Qe,Be[1]+"//"),m.dataTypes=M.trim(m.dataType||"*").toLowerCase().split(tt),null==m.crossDomain&&(h=rt.exec(m.url.toLowerCase()),m.crossDomain=!(!h||h[1]==Be[1]&&h[2]==Be[2]&&(h[3]||("http:"===h[1]?80:443))==(Be[3]||("http:"===Be[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=M.param(m.data,m.traditional)),f(at,m,n,E),2===S)return!1;if(d=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Ye.test(m.type),d&&0===M.active++&&M.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Ge.test(m.url)?"&":"?")+m.data,delete m.data),i=m.url,m.cache===!1)){var T=M.now(),C=m.url.replace(nt,"$1_="+T);m.url=C+(C===m.url?(Ge.test(m.url)?"&":"?")+"_="+T:"")}(m.data&&m.hasContent&&m.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(i=i||m.url,M.lastModified[i]&&E.setRequestHeader("If-Modified-Since",M.lastModified[i]),M.etag[i]&&E.setRequestHeader("If-None-Match",M.etag[i])),E.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+st+"; q=0.01":""):m.accepts["*"]);for(p in m.headers)E.setRequestHeader(p,m.headers[p]);if(m.beforeSend&&(m.beforeSend.call(g,E,m)===!1||2===S))return E.abort(),!1;for(p in{success:1,error:1,complete:1})E[p](m[p]);if(s=f(ot,m,n,E)){E.readyState=1,d&&v.trigger("ajaxSend",[E,m]),m.async&&m.timeout>0&&(l=setTimeout(function(){E.abort("timeout")},m.timeout));try{S=1,s.send(w,r)}catch(k){if(!(2>S))throw k;r(-1,k)}}else r(-1,"No Transport");return E},param:function(e,n){var r=[],i=function(e,t){t=M.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=M.ajaxSettings.traditional),M.isArray(e)||e.jquery&&!M.isPlainObject(e))M.each(e,function(){i(this.name,this.value)});else for(var a in e)h(a,e[a],n,i);return r.join("&").replace(Ue,"+")}}),M.extend({active:0,lastModified:{},etag:{}});var ut=M.now(),ct=/(\=)\?(&|$)|\?\?/i;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return M.expando+"_"+ut++}}),M.ajaxPrefilter("json jsonp",function(t,n,r){var i="string"==typeof t.data&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(ct.test(t.url)||i&&ct.test(t.data))){var a,o=t.jsonpCallback=M.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[o],l=t.url,u=t.data,c="$1"+o+"$2";return t.jsonp!==!1&&(l=l.replace(ct,c),t.url===l&&(i&&(u=u.replace(ct,c)),t.data===u&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+o))),t.url=l,t.data=u,e[o]=function(e){a=[e]},r.always(function(){e[o]=s,a&&M.isFunction(s)&&e[o](a[0])}),t.converters["script json"]=function(){return a||M.error(o+" was not called"),a[0]},t.dataTypes[0]="json","script"}}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return M.globalEval(e),e}}}),M.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),M.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=A.head||A.getElementsByTagName("head")[0]||A.documentElement;return{send:function(i,a){n=A.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||a(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var ht,dt=e.ActiveXObject?function(){for(var e in ht)ht[e](0,1)}:!1,ft=0;M.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&l()||s()}:l,function(e){M.extend(M.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(M.ajaxSettings.xhr()),M.support.ajax&&M.ajaxTransport(function(n){if(!n.crossDomain||M.support.cors){var r;return{send:function(i,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,h,d;try{if(r&&(i||4===l.readyState))if(r=t,o&&(l.onreadystatechange=M.noop,dt&&delete ht[o]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),h={},d=l.responseXML,d&&d.documentElement&&(h.xml=d);try{h.text=l.responseText}catch(e){}try{u=l.statusText}catch(f){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=h.text?200:404}}catch(p){i||a(-1,p)}h&&a(s,u,h,c)},n.async&&4!==l.readyState?(o=++ft,dt&&(ht||(ht={},M(e).unload(dt)),ht[o]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var pt,mt,gt,vt,yt={},bt=/^(?:toggle|show|hide)$/,xt=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];M.fn.extend({show:function(e,t,n){var a,o;if(e||0===e)return this.animate(i("show",3),e,t,n);for(var s=0,l=this.length;l>s;s++)a=this[s],a.style&&(o=a.style.display,!M._data(a,"olddisplay")&&"none"===o&&(o=a.style.display=""),(""===o&&"none"===M.css(a,"display")||!M.contains(a.ownerDocument.documentElement,a))&&M._data(a,"olddisplay",r(a.nodeName)));for(s=0;l>s;s++)a=this[s],a.style&&(o=a.style.display,(""===o||"none"===o)&&(a.style.display=M._data(a,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(i("hide",3),e,t,n);for(var r,a,o=0,s=this.length;s>o;o++)r=this[o],r.style&&(a=M.css(r,"display"),"none"!==a&&!M._data(r,"olddisplay")&&M._data(r,"olddisplay",a));for(o=0;s>o;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:M.fn.toggle,toggle:function(e,t,n){var r="boolean"==typeof e;return M.isFunction(e)&&M.isFunction(t)?this._toggle.apply(this,arguments):null==e||r?this.each(function(){var t=r?e:M(this).is(":hidden");M(this)[t?"show":"hide"]()}):this.animate(i("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,i){function a(){o.queue===!1&&M._mark(this);var t,n,i,a,s,l,u,c,h,d,f,p=M.extend({},o),m=1===this.nodeType,g=m&&M(this).is(":hidden");p.animatedProperties={};for(i in e)if(t=M.camelCase(i),i!==t&&(e[t]=e[i],delete e[i]),(s=M.cssHooks[t])&&"expand"in s){l=s.expand(e[t]),delete e[t];for(i in l)i in e||(e[i]=l[i])}for(t in e){if(n=e[t],M.isArray(n)?(p.animatedProperties[t]=n[1],n=e[t]=n[0]):p.animatedProperties[t]=p.specialEasing&&p.specialEasing[t]||p.easing||"swing","hide"===n&&g||"show"===n&&!g)return p.complete.call(this);m&&("height"===t||"width"===t)&&(p.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===M.css(this,"display")&&"none"===M.css(this,"float")&&(M.support.inlineBlockNeedsLayout&&"inline"!==r(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=p.overflow&&(this.style.overflow="hidden");for(i in e)a=new M.fx(this,p,i),n=e[i],bt.test(n)?(f=M._data(this,"toggle"+i)||("toggle"===n?g?"show":"hide":0),f?(M._data(this,"toggle"+i,"show"===f?"hide":"show"),a[f]()):a[n]()):(u=xt.exec(n),c=a.cur(),u?(h=parseFloat(u[2]),d=u[3]||(M.cssNumber[i]?"":"px"),"px"!==d&&(M.style(this,i,(h||1)+d),c=(h||1)/a.cur()*c,M.style(this,i,c+d)),u[1]&&(h=("-="===u[1]?-1:1)*h+c),a.custom(c,h,d)):a.custom(c,n,""));return!0}var o=M.speed(t,n,i);return M.isEmptyObject(e)?this.each(o.complete,[!1]):(e=M.extend({},e),o.queue===!1?this.each(a):this.queue(o.queue,a))},stop:function(e,n,r){return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var i=t[n];M.removeData(e,n,!0),i.stop(r)}var n,i=!1,a=M.timers,o=M._data(this);if(r||M._unmark(!0,this),null==e)for(n in o)o[n]&&o[n].stop&&n.indexOf(".run")===n.length-4&&t(this,o,n);else o[n=e+".run"]&&o[n].stop&&t(this,o,n);for(n=a.length;n--;)a[n].elem===this&&(null==e||a[n].queue===e)&&(r?a[n](!0):a[n].saveState(),i=!0,a.splice(n,1));(!r||!i)&&M.dequeue(this,e)})}}),M.each({slideDown:i("show",1),slideUp:i("hide",1),slideToggle:i("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){M.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),M.extend({speed:function(e,t,n){var r=e&&"object"==typeof e?M.extend({},e):{complete:n||!n&&t||M.isFunction(e)&&e,duration:e,easing:n&&t||t&&!M.isFunction(t)&&t};return r.duration=M.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in M.fx.speeds?M.fx.speeds[r.duration]:M.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(e){M.isFunction(r.old)&&r.old.call(this),r.queue?M.dequeue(this,r.queue):e!==!1&&M._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),M.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(M.fx.step[this.prop]||M.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=M.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,r){function i(e){return a.step(e)}var a=this,s=M.fx;this.startTime=vt||o(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(M.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){M._data(a.elem,"fxshow"+a.prop)===t&&(a.options.hide?M._data(a.elem,"fxshow"+a.prop,a.start):a.options.show&&M._data(a.elem,"fxshow"+a.prop,a.end))},i()&&M.timers.push(i)&&!gt&&(gt=setInterval(s.tick,s.interval))},show:function(){var e=M._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||M.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),M(this.elem).show()},hide:function(){this.options.orig[this.prop]=M._data(this.elem,"fxshow"+this.prop)||M.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=vt||o(),a=!0,s=this.elem,l=this.options;if(e||i>=l.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),l.animatedProperties[this.prop]=!0;for(t in l.animatedProperties)l.animatedProperties[t]!==!0&&(a=!1);if(a){if(null!=l.overflow&&!M.support.shrinkWrapBlocks&&M.each(["","X","Y"],function(e,t){s.style["overflow"+t]=l.overflow[e]}),l.hide&&M(s).hide(),l.hide||l.show)for(t in l.animatedProperties)M.style(s,t,l.orig[t]),M.removeData(s,"fxshow"+t,!0),M.removeData(s,"toggle"+t,!0);r=l.complete,r&&(l.complete=!1,r.call(s))}return!1}return l.duration==1/0?this.now=i:(n=i-this.startTime,this.state=n/l.duration,this.pos=M.easing[l.animatedProperties[this.prop]](this.state,n,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},M.extend(M.fx,{tick:function(){for(var e,t=M.timers,n=0;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||M.fx.stop()},interval:13,stop:function(){clearInterval(gt),gt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){M.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),M.each(wt.concat.apply([],wt),function(e,t){t.indexOf("margin")&&(M.fx.step[t]=function(e){M.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),M.expr&&M.expr.filters&&(M.expr.filters.animated=function(e){return M.grep(M.timers,function(t){return e===t.elem}).length});var _t,St=/^t(?:able|d|h)$/i,Et=/^(?:body|html)$/i;_t="getBoundingClientRect"in A.documentElement?function(e,t,r,i){try{i=e.getBoundingClientRect()}catch(a){}if(!i||!M.contains(r,e))return i?{top:i.top,left:i.left}:{top:0,left:0};var o=t.body,s=n(t),l=r.clientTop||o.clientTop||0,u=r.clientLeft||o.clientLeft||0,c=s.pageYOffset||M.support.boxModel&&r.scrollTop||o.scrollTop,h=s.pageXOffset||M.support.boxModel&&r.scrollLeft||o.scrollLeft,d=i.top+c-l,f=i.left+h-u;return{top:d,left:f}}:function(e,t,n){for(var r,i=e.offsetParent,a=e,o=t.body,s=t.defaultView,l=s?s.getComputedStyle(e,null):e.currentStyle,u=e.offsetTop,c=e.offsetLeft;(e=e.parentNode)&&e!==o&&e!==n&&(!M.support.fixedPosition||"fixed"!==l.position);)r=s?s.getComputedStyle(e,null):e.currentStyle,u-=e.scrollTop,c-=e.scrollLeft,e===i&&(u+=e.offsetTop,c+=e.offsetLeft,M.support.doesNotAddBorder&&(!M.support.doesAddBorderForTableAndCells||!St.test(e.nodeName))&&(u+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),a=i,i=e.offsetParent),M.support.subtractsBorderForOverflowNotVisible&&"visible"!==r.overflow&&(u+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),l=r;return("relative"===l.position||"static"===l.position)&&(u+=o.offsetTop,c+=o.offsetLeft),M.support.fixedPosition&&"fixed"===l.position&&(u+=Math.max(n.scrollTop,o.scrollTop),c+=Math.max(n.scrollLeft,o.scrollLeft)),{top:u,left:c}},M.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){M.offset.setOffset(this,e,t)});var n=this[0],r=n&&n.ownerDocument;return r?n===r.body?M.offset.bodyOffset(n):_t(n,r,r.documentElement):null},M.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return M.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(M.css(e,"marginTop"))||0,n+=parseFloat(M.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=M.css(e,"position");"static"===r&&(e.style.position="relative");var i,a,o=M(e),s=o.offset(),l=M.css(e,"top"),u=M.css(e,"left"),c=("absolute"===r||"fixed"===r)&&M.inArray("auto",[l,u])>-1,h={},d={};c?(d=o.position(),i=d.top,a=d.left):(i=parseFloat(l)||0,a=parseFloat(u)||0),M.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+i),null!=t.left&&(h.left=t.left-s.left+a),"using"in t?t.using.call(e,h):o.css(h)}},M.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Et.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(M.css(e,"marginTop"))||0,n.left-=parseFloat(M.css(e,"marginLeft"))||0,r.top+=parseFloat(M.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(M.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||A.body;e&&!Et.test(e.nodeName)&&"static"===M.css(e,"position");)e=e.offsetParent;return e})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var i=/Y/.test(r);M.fn[e]=function(a){return M.access(this,function(e,a,o){var s=n(e);return o===t?s?r in s?s[r]:M.support.boxModel&&s.document.documentElement[a]||s.document.body[a]:e[a]:void(s?s.scrollTo(i?M(s).scrollLeft():o,i?o:M(s).scrollTop()):e[a]=o)},e,a,arguments.length,null)}}),M.each({Height:"height",Width:"width"},function(e,n){var r="client"+e,i="scroll"+e,a="offset"+e;M.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(M.css(e,n,"padding")):this[n]():null},M.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(M.css(t,n,e?"margin":"border")):this[n]():null},M.fn[n]=function(e){return M.access(this,function(e,n,o){var s,l,u,c;return M.isWindow(e)?(s=e.document,l=s.documentElement[r],M.support.boxModel&&l||s.body&&s.body[r]||l):9===e.nodeType?(s=e.documentElement,s[r]>=s[i]?s[r]:Math.max(e.body[i],s[i],e.body[a],s[a])):o===t?(u=M.css(e,n),c=parseFloat(u),M.isNumeric(c)?c:u):void M(e).css(n,o)},n,e,arguments.length,null)}}),e.jQuery=e.$=M,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return M})}(window),function(e,t){function n(t,n){var i=t.nodeName.toLowerCase();if("area"===i){var a,o=t.parentNode,s=o.name;return t.href&&s&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap=#"+s+"]")[0],!!a&&r(a)):!1}return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||n:n)&&r(t)}function r(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.20",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,a=e(this[0]);a.length&&a[0]!==document;){if(r=a.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(a.css("zIndex"),10),!isNaN(i)&&0!==i))return i;a=a.parent()}return 0},disableSelection:function(){
return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(a,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),i&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var a="Width"===r?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?s["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?s["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i=e.ui[t].prototype;for(var a in r)i.plugins[a]=i.plugins[a]||[],i.plugins[a].push([n,r[a]])},call:function(e,t,n){var r=e.plugins[t];if(r&&e.element[0].parentNode)for(var i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,r,i,a,o){return e.ui.isOverAxis(t,r,a)&&e.ui.isOverAxis(n,i,o)}}))}(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r,i=0;null!=(r=t[i]);i++)try{e(r).triggerHandler("remove")}catch(a){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i]=function(n){return!!e.data(n,t)},e[a]=e[a]||{},e[a][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var o=new n;o.options=e.extend(!0,{},o.options),e[a][t].prototype=e.extend(!0,o,{namespace:a,widgetName:t,widgetEventPrefix:e[a][t].prototype.widgetEventPrefix||t,widgetBaseClass:i},r),e.widget.bridge(t,e[a][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var a="string"==typeof i,o=Array.prototype.slice.call(arguments,1),s=this;return i=!a&&o.length?e.extend.apply(null,[!0,i].concat(o)):i,a&&"_"===i.charAt(0)?s:(this.each(a?function(){var r=e.data(this,n),a=r&&e.isFunction(r[i])?r[i].apply(r,o):r;return a!==r&&a!==t?(s=a,!1):void 0}:function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),s)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i,a,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(i in a)i in n||(n[i]=a[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1==n.which,a="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return i&&!a&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){e.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget()[n?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);{var i=null,a=this;e(t.target).parents().each(function(){return e.data(this,r.widgetName+"-item")==a?(i=e(this),!1):void 0})}if(e.data(t.target,r.widgetName+"-item")==a&&(i=e(t.target)),!i)return!1;if(this.options.handle&&!n){var o=!1;if(e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(o=!0)}),!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options,a=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(var o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,a._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;i>=0;i--){var a=this.items[i],o=a.item[0],s=this._intersectsWithPointer(a);if(s&&o!=this.currentItem[0]&&this.placeholder[1==s?"next":"prev"]()[0]!=o&&!e.ui.contains(this.placeholder[0],o)&&("semi-dynamic"==this.options.type?!e.ui.contains(this.element[0],o):!0)){if(this.direction=1==s?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(a))break;this._rearrange(t,a),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=r.placeholder.offset();r.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("deactivate",null,t._uiHash(this)),this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",null,t._uiHash(this)),this.containers[n].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,a=e.left,o=a+e.width,s=e.top,l=s+e.height,u=this.offset.click.top,c=this.offset.click.left,h=r+u>s&&l>r+u&&t+c>a&&o>t+c;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,a=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"==o||"down"==a?2:1:a&&("down"==a?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"==a&&r||"left"==a&&!r:i&&("down"==i&&n||"up"==i&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(var a=i.length-1;a>=0;a--)for(var o=e(i[a]),s=o.length-1;s>=0;s--){var l=e.data(o[s],this.widgetName);l&&l!=this&&!l.options.disabled&&r.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var a=r.length-1;a>=0;a--)r[a][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data("+this.widgetName+"-item)"),t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var a=i.length-1;a>=0;a--)for(var o=e(i[a]),s=o.length-1;s>=0;s--){var l=e.data(o[s],this.widgetName);l&&l!=this&&!l.options.disabled&&(r.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var a=r.length-1;a>=0;a--)for(var u=r[a][1],c=r[a][0],s=0,h=c.length;h>s;s++){var d=e(c[s]);d.data(this.widgetName+"-item",u),n.push({item:d,instance:u,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance==this.currentContainer||!this.currentContainer||r.item[0]==this.currentItem[0]){var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var a=i.offset();r.left=a.left,r.top=a.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var a=this.containers[n].element.offset();this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){var n=t||this,r=n.options;if(!r.placeholder||r.placeholder.constructor==String){var i=r.placeholder;r.placeholder={element:function(){var t=e(document.createElement(n.currentItem[0].nodeName)).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(t.style.visibility="hidden"),t},update:function(e,t){(!i||r.forcePlaceholderSize)&&(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=e(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var n=null,r=null,i=this.containers.length-1;i>=0;i--)if(!e.ui.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.ui.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else if(this.currentContainer!=this.containers[r]){for(var a=1e4,o=null,s=this.positionAbs[this.containers[r].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(e.ui.contains(this.containers[r].element[0],this.items[l].item[0])){var u=this.items[l][this.containers[r].floating?"left":"top"];Math.abs(u-s)<a&&(a=Math.abs(u-s),o=this.items[l])}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(""==r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i="hidden"!=e(n).css("overflow");this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"==t?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:i.scrollTop())*r),left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:i.scrollLeft())*r)}},_generatePosition:function(t){var n=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var a=t.pageX,o=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid)){var s=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+n.grid[1]:s-n.grid[1]:s;var l=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0];a=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this,a=this.counter;window.setTimeout(function(){a==i.counter&&i.refreshPositions(!r)},0)},_clear:function(t,n){this.reverting=!1;var r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)("auto"==this._storedCSS[i]||"static"==this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||r.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0])){n||r.push(function(e){this._trigger("remove",e,this._uiHash())});for(var i=this.containers.length-1;i>=0;i--)e.ui.contains(this.containers[i].element[0],this.currentItem[0])&&!n&&(r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[i])),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[i])))}for(var i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.20"})}(jQuery),function(){function e(t,n,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;if(t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped),t.isEqual&&S.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&S.isFunction(n.isEqual))return n.isEqual(t);var i=u.call(t);if(i!=u.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var a=r.length;a--;)if(r[a]==t)return!0;r.push(t);var o=0,s=!0;if("[object Array]"==i){
if(o=t.length,s=o==n.length)for(;o--&&(s=o in t==o in n&&e(t[o],n[o],r)););}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var l in t)if(S.has(t,l)&&(o++,!(s=S.has(n,l)&&e(t[l],n[l],r))))break;if(s){for(l in n)if(S.has(n,l)&&!o--)break;s=!o}}return r.pop(),s}var t=this,n=t._,r={},i=Array.prototype,a=Object.prototype,o=Function.prototype,s=i.slice,l=i.unshift,u=a.toString,c=a.hasOwnProperty,h=i.forEach,d=i.map,f=i.reduce,p=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,x=Array.isArray,w=Object.keys,_=o.bind,S=function(e){return new D(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=S),exports._=S):t._=S,S.VERSION="1.3.3";var E=S.each=S.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(i in e&&t.call(n,e[i],i,e)===r)return}else for(var o in e)if(S.has(e,o)&&t.call(n,e[o],o,e)===r)return};S.map=S.collect=function(e,t,n){var r=[];return null==e?r:d&&e.map===d?e.map(t,n):(E(e,function(e,i,a){r[r.length]=t.call(n,e,i,a)}),e.length===+e.length&&(r.length=e.length),r)},S.reduce=S.foldl=S.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return r&&(t=S.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(E(e,function(e,a,o){i?n=t.call(r,n,e,a,o):(n=e,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},S.reduceRight=S.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return r&&(t=S.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var a=S.toArray(e).reverse();return r&&!i&&(t=S.bind(t,r)),i?S.reduce(a,t,n,r):S.reduce(a,t)},S.find=S.detect=function(e,t,n){var r;return T(e,function(e,i,a){return t.call(n,e,i,a)?(r=e,!0):void 0}),r},S.filter=S.select=function(e,t,n){var r=[];return null==e?r:m&&e.filter===m?e.filter(t,n):(E(e,function(e,i,a){t.call(n,e,i,a)&&(r[r.length]=e)}),r)},S.reject=function(e,t,n){var r=[];return null==e?r:(E(e,function(e,i,a){t.call(n,e,i,a)||(r[r.length]=e)}),r)},S.every=S.all=function(e,t,n){var i=!0;return null==e?i:g&&e.every===g?e.every(t,n):(E(e,function(e,a,o){return(i=i&&t.call(n,e,a,o))?void 0:r}),!!i)};var T=S.some=S.any=function(e,t,n){t||(t=S.identity);var i=!1;return null==e?i:v&&e.some===v?e.some(t,n):(E(e,function(e,a,o){return i||(i=t.call(n,e,a,o))?r:void 0}),!!i)};S.include=S.contains=function(e,t){var n=!1;return null==e?n:y&&e.indexOf===y?-1!=e.indexOf(t):n=T(e,function(e){return e===t})},S.invoke=function(e,t){var n=s.call(arguments,2);return S.map(e,function(e){return(S.isFunction(t)?t||e:e[t]).apply(e,n)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.max=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&S.isEmpty(e))return-(1/0);var r={computed:-(1/0)};return E(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},S.min=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&S.isEmpty(e))return 1/0;var r={computed:1/0};return E(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;o<r.computed&&(r={value:e,computed:o})}),r.value},S.shuffle=function(e){var t,n=[];return E(e,function(e,r){t=Math.floor(Math.random()*(r+1)),n[r]=n[t],n[t]=e}),n},S.sortBy=function(e,t,n){var r=S.isFunction(t)?t:function(e){return e[t]};return S.pluck(S.map(e,function(e,t,i){return{value:e,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return void 0===n?1:void 0===r?-1:r>n?-1:n>r?1:0}),"value")},S.groupBy=function(e,t){var n={},r=S.isFunction(t)?t:function(e){return e[t]};return E(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)}),n},S.sortedIndex=function(e,t,n){n||(n=S.identity);for(var r=0,i=e.length;i>r;){var a=r+i>>1;n(e[a])<n(t)?r=a+1:i=a}return r},S.toArray=function(e){return e?S.isArray(e)?s.call(e):S.isArguments(e)?s.call(e):e.toArray&&S.isFunction(e.toArray)?e.toArray():S.values(e):[]},S.size=function(e){return S.isArray(e)?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,n){return null==t||n?e[0]:s.call(e,0,t)},S.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},S.last=function(e,t,n){return null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},S.rest=S.tail=function(e,t,n){return s.call(e,null==t||n?1:t)},S.compact=function(e){return S.filter(e,function(e){return!!e})},S.flatten=function(e,t){return S.reduce(e,function(e,n){return S.isArray(n)?e.concat(t?n:S.flatten(n)):(e[e.length]=n,e)},[])},S.without=function(e){return S.difference(e,s.call(arguments,1))},S.uniq=S.unique=function(e,t,n){var r=n?S.map(e,n):e,i=[];return e.length<3&&(t=!0),S.reduce(r,function(n,r,a){return(t?S.last(n)===r&&n.length:S.include(n,r))||(n.push(r),i.push(e[a])),n},[]),i},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=S.intersect=function(e){var t=s.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})},S.difference=function(e){var t=S.flatten(s.call(arguments,1),!0);return S.filter(e,function(e){return!S.include(t,e)})},S.zip=function(){for(var e=s.call(arguments),t=S.max(S.pluck(e,"length")),n=new Array(t),r=0;t>r;r++)n[r]=S.pluck(e,""+r);return n},S.indexOf=function(e,t,n){if(null==e)return-1;var r,i;if(n)return r=S.sortedIndex(e,t),e[r]===t?r:-1;if(y&&e.indexOf===y)return e.indexOf(t);for(r=0,i=e.length;i>r;r++)if(r in e&&e[r]===t)return r;return-1},S.lastIndexOf=function(e,t){if(null==e)return-1;if(b&&e.lastIndexOf===b)return e.lastIndexOf(t);for(var n=e.length;n--;)if(n in e&&e[n]===t)return n;return-1},S.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,a=new Array(r);r>i;)a[i++]=e,e+=n;return a};var C=function(){};S.bind=function(e,t){var n,r;if(e.bind===_&&_)return _.apply(e,s.call(arguments,1));if(!S.isFunction(e))throw new TypeError;return r=s.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(s.call(arguments)));C.prototype=e.prototype;var i=new C,a=e.apply(i,r.concat(s.call(arguments)));return Object(a)===a?a:i}},S.bindAll=function(e){var t=s.call(arguments,1);return 0==t.length&&(t=S.functions(e)),E(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var n={};return t||(t=S.identity),function(){var r=t.apply(this,arguments);return S.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},S.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(s.call(arguments,1)))},S.throttle=function(e,t){var n,r,i,a,o,s,l=S.debounce(function(){o=a=!1},t);return function(){n=this,r=arguments;var u=function(){i=null,o&&e.apply(n,r),l()};return i||(i=setTimeout(u,t)),a?o=!0:s=e.apply(n,r),l(),a=!0,s}},S.debounce=function(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)};n&&!r&&e.apply(i,a),clearTimeout(r),r=setTimeout(o,t)}},S.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}},S.wrap=function(e,t){return function(){var n=[e].concat(s.call(arguments,0));return t.apply(this,n)}},S.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},S.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},S.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)S.has(e,n)&&(t[t.length]=n);return t},S.values=function(e){return S.map(e,S.identity)},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=function(e){return E(s.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},S.pick=function(e){var t={};return E(S.flatten(s.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},S.defaults=function(e){return E(s.call(arguments,1),function(t){for(var n in t)null==e[n]&&(e[n]=t[n])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e},S.isEqual=function(t,n){return e(t,n,[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!=e.nodeType)},S.isArray=x||function(e){return"[object Array]"==u.call(e)},S.isObject=function(e){return e===Object(e)},S.isArguments=function(e){return"[object Arguments]"==u.call(e)},S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),S.isFunction=function(e){return"[object Function]"==u.call(e)},S.isString=function(e){return"[object String]"==u.call(e)},S.isNumber=function(e){return"[object Number]"==u.call(e)},S.isFinite=function(e){return S.isNumber(e)&&isFinite(e)},S.isNaN=function(e){return e!==e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},S.isDate=function(e){return"[object Date]"==u.call(e)},S.isRegExp=function(e){return"[object RegExp]"==u.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return c.call(e,t)},S.noConflict=function(){return t._=n,this},S.identity=function(e){return e},S.times=function(e,t,n){for(var r=0;e>r;r++)t.call(n,r)},S.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},S.result=function(e,t){if(null==e)return null;var n=e[t];return S.isFunction(n)?n.call(e):n},S.mixin=function(e){E(S.functions(e),function(t){F(t,S[t]=e[t])})};var k=0;S.uniqueId=function(e){var t=k++;return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/.^/,j={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var P in j)j[j[P]]=P;var I=/\\|'|\r|\n|\t|\u2028|\u2029/g,A=/\\(\\|'|r|n|t|u2028|u2029)/g,O=function(e){return e.replace(A,function(e,t){return j[t]})};S.template=function(e,t,n){n=S.defaults(n||{},S.templateSettings);var r="__p+='"+e.replace(I,function(e){return"\\"+j[e]}).replace(n.escape||N,function(e,t){return"'+\n_.escape("+O(t)+")+\n'"}).replace(n.interpolate||N,function(e,t){return"'+\n("+O(t)+")+\n'"}).replace(n.evaluate||N,function(e,t){return"';\n"+O(t)+"\n;__p+='"})+"';\n";n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+r+"return __p;\n";var i=new Function(n.variable||"obj","_",r);if(t)return i(t,S);var a=function(e){return i.call(this,e,S)};return a.source="function("+(n.variable||"obj")+"){\n"+r+"}",a},S.chain=function(e){return S(e).chain()};var D=function(e){this._wrapped=e};S.prototype=D.prototype;var M=function(e,t){return t?S(e).chain():e},F=function(e,t){D.prototype[e]=function(){var e=s.call(arguments);return l.call(e,this._wrapped),M(t.apply(S,e),this._chain)}};S.mixin(S),E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];D.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var r=n.length;return"shift"!=e&&"splice"!=e||0!==r||delete n[0],M(n,this._chain)}}),E(["concat","join","slice"],function(e){var t=i[e];D.prototype[e]=function(){return M(t.apply(this._wrapped,arguments),this._chain)}}),D.prototype.chain=function(){return this._chain=!0,this},D.prototype.value=function(){return this._wrapped}}.call(this),function(e,t){var n={};"undefined"==typeof n&&(n={}),"function"!=typeof t&&(t=function(){return n}),function(){var e=function(){for(var e=arguments[0],t=1,n=arguments[t];n;)e=e.slice(0,-1)+n.slice(1),n=arguments[++t];return e},t=function(e){return"(?:"+e+")"},r="[A-Za-z]",i="[0-9]",a=e(i,"[A-Fa-f]"),o=t("%"+a+a),s="[\\:\\/\\?\\#\\[\\]\\@]",l="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=e(s,l),c=e(r,i,"[\\-\\.\\_\\~]"),h=t(r+e(r,i,"[\\+\\-\\.]")+"*"),d=t(t(o+"|"+e(c,l,"[\\:]"))+"*"),f=t(t("25[0-5]")+"|"+t("2[0-4]"+i)+"|"+t("1"+i+i)+"|"+t("[1-9]"+i)+"|"+i),p=t(f+"\\."+f+"\\."+f+"\\."+f),m=t(a+"{1,4}"),g=(t(t(m+"\\:"+m)+"|"+p),t(e(c,l,"[\\:]")+"+")),v=t("v"+a+"+\\."+e(c,l,"[\\:]")+"+"),y=t("\\["+t(g+"|"+v)+"\\]"),b=t(t(o+"|"+e(c,l))+"*"),x=t(y+"|"+p+"|"+b),w=t(i+"*"),_=t(t(d+"@")+"?"+x+t("\\:"+w)+"?"),S=t(o+"|"+e(c,l,"[\\:\\@]")),E=t(S+"*"),T=t(S+"+"),C=t(t(o+"|"+e(c,l,"[\\@]"))+"+"),k=t(t("\\/"+E)+"*"),N=t("\\/"+t(T+k)+"?"),j=t(C+k),P=t(T+k),I=t(""),A=(t(k+"|"+N+"|"+j+"|"+P+"|"+I),t(t(S+"|[\\/\\?]")+"*")),O=t(t(S+"|[\\/\\?]")+"*"),D=t(t("\\/\\/"+_+k)+"|"+N+"|"+P+"|"+I),M=t(h+"\\:"+D+t("\\?"+A)+"?"+t("\\#"+O)+"?"),F=t(t("\\/\\/"+_+k)+"|"+N+"|"+j+"|"+I),q=t(F+t("\\?"+A)+"?"+t("\\#"+O)+"?"),L=(t(M+"|"+q),t(h+"\\:"+D+t("\\?"+A)+"?"),new RegExp("^"+t("("+M+")|("+q+")")+"$")),H=new RegExp("^("+h+")\\:"+t(t("\\/\\/("+t("("+d+")@")+"?("+x+")"+t("\\:("+w+")")+"?)")+"?("+k+"|"+N+"|"+P+"|"+I+")")+t("\\?("+A+")")+"?"+t("\\#("+O+")")+"?$"),R=new RegExp("^(){0}"+t(t("\\/\\/("+t("("+d+")@")+"?("+x+")"+t("\\:("+w+")")+"?)")+"?("+k+"|"+N+"|"+j+"|"+I+")")+t("\\?("+A+")")+"?"+t("\\#("+O+")")+"?$"),V=(new RegExp("^("+h+")\\:"+t(t("\\/\\/("+t("("+d+")@")+"?("+x+")"+t("\\:("+w+")")+"?)")+"?("+k+"|"+N+"|"+P+"|"+I+")")+t("\\?("+A+")")+"?$"),new RegExp("^"+t("\\#("+O+")")+"?$"),new RegExp("^"+t("("+d+")@")+"?("+x+")"+t("\\:("+w+")")+"?$"),new RegExp(e("[^]",r,i,"[\\+\\-\\.]"),"g")),B=new RegExp(e("[^\\%\\:]",c,l),"g"),U=new RegExp(e("[^\\%]",c,l),"g"),$=new RegExp(e("[^\\%\\/\\:\\@]",c,l),"g"),W=new RegExp(e("[^\\%\\/\\@]",c,l),"g"),z=new RegExp(e("[^\\%]",c,l,"[\\:\\@\\/\\?]"),"g"),X=z,J=new RegExp(e("[^]",c,l),"g"),K=new RegExp(c,"g"),Y=(new RegExp(e("[^\\%]",c,u),"g"),new RegExp(o+"+","g")),Q=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/i,G=/^\.\.?\//,Z=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?.*?(?=\/|$)/,ne=void 0==="".match(/(){0}/)[1],re=function(e){var t=e.charCodeAt(0);return 128>t?"%"+t.toString(16).toUpperCase():t>127&&2048>t?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()},ie=function(e){for(var t,n,r="",i=0;i<e.length;)t=parseInt(e.substr(i+1,2),16),128>t?(n=String.fromCharCode(t),r+=n.match(K)?n:e.substr(i,3),i+=3):t>191&&224>t?(r+=e.substr(i,6),i+=6):(r+=e.substr(i,9),i+=9);return r},ae=function(e){for(var t,n,r,i="",a=0;a<e.length;)t=parseInt(e.substr(a+1,2),16),128>t?(i+=String.fromCharCode(t),a+=3):t>191&&224>t?(n=parseInt(e.substr(a+4,2),16),i+=String.fromCharCode((31&t)<<6|63&n),a+=6):(n=parseInt(e.substr(a+4,2),16),r=parseInt(e.substr(a+7,2),16),i+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r),a+=9);return i},oe=function(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()},se=function(){this.errors=[]},le={};se.prototype={scheme:void 0,authority:void 0,userinfo:void 0,host:void 0,port:void 0,path:void 0,query:void 0,fragment:void 0,reference:void 0,errors:void 0},le.SCHEMES={},le.parse=function(e,t){var n,r,i=new se;return e=e?e.toString():"",t=t||{},"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e),n=e.match(L),n&&(n=e.match(n[1]?H:R)),n||(t.tolerant||i.errors.push("URI is not strictly valid."),n=e.match(Q)),n?(ne?(i.scheme=n[1],i.authority=n[2],i.userinfo=n[3],i.host=n[4],i.port=parseInt(n[5],10),i.path=n[6]||"",i.query=n[7],i.fragment=n[8],isNaN(i.port)&&(i.port=n[5])):(i.scheme=n[1]||void 0,i.authority=-1!==e.indexOf("//")?n[2]:void 0,i.userinfo=-1!==e.indexOf("@")?n[3]:void 0,i.host=-1!==e.indexOf("//")?n[4]:void 0,i.port=parseInt(n[5],10),i.path=n[6]||"",i.query=-1!==e.indexOf("?")?n[7]:void 0,i.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(i.port)&&(i.port=e.match(/\/\/.*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),i.reference=i.scheme||i.authority||i.path||i.query?i.scheme?i.fragment?"uri":"absolute":"relative":"same-document",t.reference&&"suffix"!==t.reference&&t.reference!==i.reference&&i.errors.push("URI is not a "+t.reference+" reference."),r=le.SCHEMES[i.scheme||t.scheme],r&&r.parse&&r.parse(i,t)):i.errors.push("URI can not be parsed."),i},le._recomposeAuthority=function(e){var t=[];return(void 0!==e.userinfo||void 0!==e.host||"number"==typeof e.port)&&(void 0!==e.userinfo&&(t.push(e.userinfo.toString().replace(B,re)),t.push("@")),void 0!==e.host&&t.push(e.host.toString().toLowerCase().replace(U,re)),"number"==typeof e.port&&(t.push(":"),t.push(e.port.toString(10)))),t.length?t.join(""):void 0},le.removeDotSegments=function(e){for(var t,n=[];e.length;)e.match(G)?e=e.replace(G,""):e.match(Z)?e=e.replace(Z,"/"):e.match(ee)?(e=e.replace(ee,"/"),n.pop()):"."===e||".."===e?e="":(t=e.match(te)[0],e=e.slice(t.length),n.push(t));return n.join("")},le.serialize=function(e,t){var n,r,i=[];return t=t||{},n=le.SCHEMES[e.scheme||t.scheme],n&&n.serialize&&n.serialize(e,t),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme.toString().toLowerCase().replace(V,"")),i.push(":")),e.authority=le._recomposeAuthority(e),void 0!==e.authority&&("suffix"!==t.reference&&i.push("//"),i.push(e.authority),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),e.path&&(r=le.removeDotSegments(e.path.toString().replace(/%2E/gi,".")),r=e.scheme?r.replace($,re):r.replace(W,re),void 0===e.authority&&(r=r.replace(/^\/\//,"/%2F")),i.push(r)),e.query&&(i.push("?"),i.push(e.query.toString().replace(z,re))),e.fragment&&(i.push("#"),i.push(e.fragment.toString().replace(X,re))),i.join("").replace(Y,ie).replace(/%[0-9A-Fa-f]{2}/g,function(e){return e.toUpperCase()})},le.resolveComponents=function(e,t,n,r){var i=new se;return r||(e=le.parse(le.serialize(e,n),n),t=le.parse(le.serialize(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(i.scheme=t.scheme,i.authority=t.authority,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=le.removeDotSegments(t.path),i.query=t.query):(void 0!==t.authority?(i.authority=t.authority,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=le.removeDotSegments(t.path),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=le.removeDotSegments(t.path):(i.path=void 0===e.authority||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,i.path=le.removeDotSegments(i.path)),i.query=t.query):(i.path=e.path,i.query=void 0!==t.query?t.query:e.query),i.authority=e.authority,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i},le.resolve=function(e,t,n){return le.serialize(le.resolveComponents(le.parse(e,n),le.parse(t,n),n,!0),n)},le.normalize=function(e,t){return"string"==typeof e?le.serialize(le.parse(e,t),t):"object"===oe(e)?le.parse(le.serialize(e,t),t):e},le.equal=function(e,t,n){return"string"==typeof e?e=le.serialize(le.parse(e,n),n):"object"===oe(e)&&(e=le.serialize(e,n)),"string"==typeof t?t=le.serialize(le.parse(t,n),n):"object"===oe(t)&&(t=le.serialize(t,n)),e===t},le.escapeComponent=function(e){return e&&e.toString().replace(J,re)},le.unescapeComponent=function(e){return e&&e.toString().replace(Y,ae)},n.Components=se,n.URI=le,n.URI={SCHEMES:le.SCHEMES,parse:le.parse,removeDotSegments:le.removeDotSegments,serialize:le.serialize,resolveComponents:le.resolveComponents,resolve:le.resolve,normalize:le.normalize,equal:le.equal,escapeComponent:le.escapeComponent,unescapeComponent:le.unescapeComponent}}();var n=n||this,t=t||function(){return n};!function(){function e(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(){}function i(e){return r.prototype=e||{},new r}function a(e,t,n){var r,i={};for(r in e)e[r]!==E[r]&&(i[r]=t.call(n,e[r],r,e));return i}function o(e){return void 0!==e&&null!==e?e instanceof Array&&!e.callee?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(t){var n,r=[];switch(e(t)){case"object":for(n in t)t[n]!==E[n]&&(r[r.length]=n);break;case"array":for(n=t.length-1;n>=0;--n)r[n]=n}return r}function l(e,t){return-1===w(e,t)&&e.push(t),e}function u(e,t){var n=w(e,t);return n>-1&&e.splice(n,1),e}function c(){return[T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],"-",T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],"-4",T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],"-",T[3&Math.floor(16*Math.random())|8],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],"-",T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())],T[Math.floor(16*Math.random())]].join("")}function h(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function d(e){return"string"==typeof e&&-1===e.indexOf("#")&&(e+="#"),e}function f(){this.errors=[],this.validated={}}function p(e,t,n,r){t instanceof p&&("string"!=typeof r&&(r=t._fd),"string"!=typeof n&&(n=t._uri),t=t._value),"string"!=typeof n?n="urn:uuid:"+c()+"#":-1===n.indexOf(":")&&(n=d(S.resolve("urn:uuid:"+c()+"#",n))),this._env=e,this._value=t,this._uri=n,this._fd=r||this._env._options.defaultFragmentDelimiter}function m(t,n){var r,a;switch(t instanceof p&&(t=t.getValue()),e(t)){case"object":if(n){r={};for(a in t)t[a]!==E[a]&&(r[a]=m(t[a],n));return r}return i(t);case"array":if(n){for(r=new Array(t.length),a=t.length;--a>=0;)r[a]=m(t[a],n);return r}return Array.prototype.slice.call(t);default:return t}}function g(e,t,n,r){var i;p.call(this,e,t,n),this._schema=r===!0?this:t instanceof g&&!(r instanceof g)?t._schema:r instanceof g?r:this._env.getDefaultSchema()||g.createEmptySchema(this._env),i=this._schema.getValueOfProperty("fragmentResolution"),"dot-delimited"===i?this._fd=".":"slash-delimited"===i&&(this._fd="/")}function v(t,n,r){var i,a,o=e(t),s=e(n);if("undefined"===s)return m(t,!0);if("undefined"===o||s!==o)return m(n,!0);if("object"===s){t instanceof g&&(t=t.getAttributes()),n instanceof g&&(n=n.getAttributes(),n["extends"]&&r&&n["extends"]instanceof g&&(n["extends"]=[n["extends"]])),i=m(t,!0);for(a in n)n[a]!==E[a]&&(i[a]=v(t[a],n[a],r));return i}return m(n,!0)}function y(){this._id=c(),this._schemas={},this._options={}}var b,x,w,_,S=t("./uri/uri").URI,E={},T="0123456789abcdef".split("");b=function(e,t,n){for(var r=0,i=e.length,a=new Array(i);i>r;++r)a[r]=t.call(n,e[r],r,e);return a},Array.prototype.map&&(b=function(e,t,n){return Array.prototype.map.call(e,t,n)}),x=function(e,t,n){for(var r=0,i=e.length,a=[];i>r;++r)t.call(n,e[r],r,e)&&(a[a.length]=e[r]);return a},Array.prototype.filter&&(x=function(e,t,n){return Array.prototype.filter.call(e,t,n)}),w=function(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n]===t)return n;return-1},Array.prototype.indexOf&&(w=function(e,t){return Array.prototype.indexOf.call(e,t)}),f.prototype.addError=function(e,t,n,r,i){this.errors.push({uri:e instanceof p?e.getURI():e,schemaUri:t instanceof p?t.getURI():t,attribute:n,message:r,details:i})},f.prototype.registerValidation=function(e,t){this.validated[e]?this.validated[e].push(t):this.validated[e]=[t]},f.prototype.isValidatedBy=function(e,t){return!!this.validated[e]&&-1!==w(this.validated[e],t)},p.prototype.getEnvironment=function(){return this._env},p.prototype.getType=function(){return e(this._value)},p.prototype.getValue=function(){return this._value},p.prototype.getURI=function(){return this._uri},p.prototype.resolveURI=function(e){return d(S.resolve(this._uri,e))},p.prototype.getPropertyNames=function(){return s(this._value)},p.prototype.getProperty=function(e){var t=this._value?this._value[e]:void 0;return t instanceof p?t:new p(this._env,t,this._uri+this._fd+h(e),this._fd)},p.prototype.getProperties=function(){var t=e(this._value),n=this;return"object"===t?a(this._value,function(e,t){return e instanceof p?e:new p(n._env,e,n._uri+n._fd+h(t),n._fd)}):"array"===t?b(this._value,function(e,t){return e instanceof p?e:new p(n._env,e,n._uri+n._fd+h(t),n._fd)}):void 0},p.prototype.getValueOfProperty=function(e){return this._value?this._value[e]instanceof p?this._value[e]._value:this._value[e]:void 0},p.prototype.equals=function(e){return e instanceof p?this._value===e._value:this._value===e},g.prototype=i(p.prototype),g.createEmptySchema=function(e){var t=i(g.prototype);return p.call(t,e,{},void 0,void 0),t._schema=t,t},g.prototype.getSchema=function(){return this._schema},g.prototype.getAttribute=function(e,t){var n,r,i,a;return!t&&this._attributes&&this._attributes.hasOwnProperty(e)?this._attributes[e]:(n=this._schema.getProperty("properties").getProperty(e),r=n.getValueOfProperty("parser"),i=this.getProperty(e),"function"==typeof r?(a=r(i,n,t),!t&&this._attributes&&(this._attributes[e]=a),a):i.getValue())},g.prototype.getAttributes=function(){var e,t,n,r,i;if(!this._attributes&&"object"===this.getType()){e=this.getProperties(),t=this._schema.getProperty("properties"),this._attributes={};for(n in e)e[n]!==E[n]&&(r=t&&t.getProperty(n),i=r&&r.getValueOfProperty("parser"),this._attributes[n]="function"==typeof i?i(e[n],r):e[n].getValue())}return m(this._attributes,!1)},g.prototype.getLink=function(e,t){var n=this.getAttribute("links",[e,t]);return n&&n.length&&n[n.length-1]?n[n.length-1]:void 0},g.prototype.validate=function(e,t,n,r,i){var a=this._schema.getValueOfProperty("validator");return e instanceof p||(e=this.getEnvironment().createInstance(e)),t instanceof f||(t=new f),"function"!=typeof a||t.isValidatedBy(e.getURI(),this.getURI())||(t.registerValidation(e.getURI(),this.getURI()),a(e,this,this._schema,t,n,r,i)),t},y.prototype.clone=function(){var e=new y;return e._schemas=i(this._schemas),e._options=i(this._options),e},y.prototype.createInstance=function(e,t){var n;return t=d(t),e instanceof p&&(!t||e.getURI()===t)?e:n=new p(this,e,t)},y.prototype.createSchema=function(e,t,n){var r,i;return n=d(n),!(e instanceof g)||n&&e._uri!==n||t&&!e._schema.equals(t)?(r=new g(this,e,n,t),i=r.getSchema().getValueOfProperty("initializer"),"function"==typeof i&&(r=i(r)),this._schemas[r._uri]=r,this._schemas[n]=r,r.getAttributes(),r):e},y.prototype.createEmptySchema=function(){var e=g.createEmptySchema(this);return this._schemas[e._uri]=e,e},y.prototype.findSchema=function(e){return this._schemas[d(e)]},y.prototype.setOption=function(e,t){this._options[e]=t},y.prototype.getOption=function(e){return this._options[e]},y.prototype.setDefaultFragmentDelimiter=function(e){"string"==typeof e&&e.length>0&&(this._options.defaultFragmentDelimiter=e)},y.prototype.getDefaultFragmentDelimiter=function(){return this._options.defaultFragmentDelimiter},y.prototype.setDefaultSchemaURI=function(e){"string"==typeof e&&(this._options.defaultSchemaURI=d(e))},y.prototype.getDefaultSchema=function(){return this.findSchema(this._options.defaultSchemaURI)},y.prototype.validate=function(e,t){var n,r,i,a=new f;try{n=this.createInstance(e),a.instance=n}catch(o){a.addError(o.uri,o.schemaUri,o.attribute,o.message,o.details)}try{r=this.createSchema(t),a.schema=r,i=r.getSchema(),a.schemaSchema=i}catch(o){a.addError(o.uri,o.schemaUri,o.attribute,o.message,o.details)}return i&&i.validate(r,a),a.errors.length?a:r.validate(n,a)},y.prototype._checkForInvalidInstances=function(t,n){for(var r,i,a,o,s,l=[],u=[[n,this._schemas[n]]],c=0;c++<t&&u.length;)if(r=u.shift(),i=r[0],a=r[1],a instanceof g)if(this._schemas[a._uri]!==a)l.push("Instance "+i+" does not match "+a._uri);else{o=a.getAttributes();for(s in o)o[s]!==E[s]&&u.push([i+"/"+h(s),o[s]])}else if("object"===e(a)){o=a;for(s in o)o.hasOwnProperty(s)&&u.push([i+"/"+h(s),o[s]])}else if("array"===e(a))for(o=a,s=0;s<o.length;++s)u.push([i+"/"+h(s),o[s]]);return l.length?l:c},_={_environments:{},_defaultEnvironmentID:"",isJSONInstance:function(e){return e instanceof p},isJSONSchema:function(e){return e instanceof g},createEnvironment:function(e){if(e=e||this._defaultEnvironmentID,!this._environments[e])throw new Error("Unknown Environment ID");return this._environments[e].clone()},Environment:y,registerEnvironment:function(e,t){e=e||(t||0)._id,e&&!this._environments[e]&&t instanceof y&&(t._id=e,this._environments[e]=t)},setDefaultEnvironmentID:function(e){if("string"==typeof e){if(!this._environments[e])throw new Error("Unknown Environment ID");this._defaultEnvironmentID=e}},getDefaultEnvironmentID:function(){return this._defaultEnvironmentID},typeOf:e,createObject:i,mapObject:a,mapArray:b,filterArray:x,searchArray:w,toArray:o,keys:s,pushUnique:l,popFirst:u,clone:m,randomUUID:c,escapeURIComponent:h,formatURI:d,inherits:v},this.JSV=_,n.JSV=_,t("./environments")}(),function(){function e(e,t,n,r){var i,a,o,s,l,u={};if("object"===e.getType()){i=t.getAttribute("patternProperties"),s=e.getProperties();for(a in i)if(i[a]!==j[a]){o=null;try{o=new RegExp(a)}catch(c){n&&n.addError(t,r,"patternProperties","Invalid pattern",a)}if(o)for(l in s)s[l]!==j[l]&&o.test(l)&&(u[l]=u[l]?P.pushUnique(u[l],i[a]):[i[a]])}}return u}var n,r,i,a,o,s,l,u,c,h,d,f,p,m,g,v,y,b,x,w,_,S,E,T,C,k,N,j={},P=t("./jsv").JSV;n=function(e,t,n,r,i){Error.call(this,r),this.uri=e.getURI(),this.schemaUri=t.getURI(),this.attribute=n,this.message=r,this.description=r,this.details=i},n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="InitializationError",r={string:function(e){return"string"===e.getType()},number:function(e){return"number"===e.getType()},integer:function(e){return"number"===e.getType()&&e.getValue()%1===0},"boolean":function(e){return"boolean"===e.getType()},object:function(e){return"object"===e.getType()},array:function(e){return"array"===e.getType()},"null":function(e){return"null"===e.getType()},any:function(){return!0}},i=new P.Environment,i.setOption("strict",!1),i.setOption("validateReferences",!1),a={$schema:"http://json-schema.org/draft-00/hyper-schema#",id:"http://json-schema.org/draft-00/schema#",type:"object",properties:{type:{type:["string","array"],items:{type:["string",{$ref:"#"}]},optional:!0,uniqueItems:!0,"default":"any",parser:function(e,t){var n;return"string"===e.getType()?e.getValue():"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):"array"===e.getType()?(n=t.getValueOfProperty("parser"),P.mapArray(e.getProperties(),function(e){return n(e,t)})):"any"},validator:function(e,t,n,r,i,a,o){var s,l,u,c,h,d=P.toArray(t.getAttribute("type"));if("undefined"!==e.getType()&&d&&d.length){for(h=n.getValueOfProperty("typeValidators")||{},s=0,l=d.length;l>s;++s)if(u=d[s],P.isJSONSchema(u)){if(c=P.createObject(r),c.errors=[],c.validated=P.clone(r.validated),0===u.validate(e,c,i,a,o).errors.length)return!0}else{if(h[u]===j[u]||"function"!=typeof h[u])return!0;if(h[u](e,r))return!0}return r.addError(e,t,"type","Instance is not a required type",d),!1}return!0},typeValidators:r},properties:{type:"object",additionalProperties:{$ref:"#"},optional:!0,"default":{},parser:function(e,t,n){var r=e.getEnvironment(),i=t.getEnvironment();return"object"===e.getType()?n?r.createSchema(e.getProperty(n),i.findSchema(t.resolveURI("#"))):P.mapObject(e.getProperties(),function(e){return r.createSchema(e,i.findSchema(t.resolveURI("#")))}):{}},validator:function(e,t,n,r){var i,a;if("object"===e.getType()){i=t.getAttribute("properties");for(a in i)i[a]!==j[a]&&i[a]&&i[a].validate(e.getProperty(a),r,e,t,a)}}},items:{type:[{$ref:"#"},"array"],items:{$ref:"#"
},optional:!0,"default":{},parser:function(e,t){return"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):"array"===e.getType()?P.mapArray(e.getProperties(),function(e){return e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#")))}):e.getEnvironment().createEmptySchema()},validator:function(e,t,n,r){var i,a,o,s,l,u;if("array"===e.getType())if(i=e.getProperties(),a=t.getAttribute("items"),u=t.getAttribute("additionalProperties"),"array"===P.typeOf(a))for(o=0,s=i.length;s>o;++o)l=a[o]||u,l!==!1?l.validate(i[o],r,e,t,o):r.addError(e,t,"additionalProperties","Additional items are not allowed",l);else for(l=a||u,o=0,s=i.length;s>o;++o)l.validate(i[o],r,e,t,o)}},optional:{type:"boolean",optional:!0,"default":!1,parser:function(e){return!!e.getValue()},validator:function(e,t,n,r){"undefined"!==e.getType()||t.getAttribute("optional")||r.addError(e,t,"optional","Property is required",!1)},validationRequired:!0},additionalProperties:{type:[{$ref:"#"},"boolean"],optional:!0,"default":{},parser:function(e,t){return"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):"boolean"===e.getType()&&e.getValue()===!1?!1:e.getEnvironment().createEmptySchema()},validator:function(e,t,n,r){var i,a,o,s;if("object"===e.getType()){i=t.getAttribute("additionalProperties"),a=t.getAttribute("properties")||{},o=e.getProperties();for(s in o)o[s]!==j[s]&&o[s]&&a[s]===j[s]&&(P.isJSONSchema(i)?i.validate(o[s],r,e,t,s):i===!1&&r.addError(e,t,"additionalProperties","Additional properties are not allowed",i))}}},requires:{type:["string",{$ref:"#"}],optional:!0,parser:function(e,t){return"string"===e.getType()?e.getValue():"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):void 0},validator:function(e,t,n,r,i){var a;"undefined"!==e.getType()&&i&&"undefined"!==i.getType()&&(a=t.getAttribute("requires"),"string"==typeof a?"undefined"===i.getProperty(a).getType()&&r.addError(e,t,"requires",'Property requires sibling property "'+a+'"',a):P.isJSONSchema(a)&&a.validate(i,r))}},minimum:{type:"number",optional:!0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,a;"number"===e.getType()&&(i=t.getAttribute("minimum"),a=t.getAttribute("minimumCanEqual"),"number"==typeof i&&(e.getValue()<i||a===!1&&e.getValue()===i)&&r.addError(e,t,"minimum","Number is less then the required minimum value",i))}},maximum:{type:"number",optional:!0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,a;"number"===e.getType()&&(i=t.getAttribute("maximum"),a=t.getAttribute("maximumCanEqual"),"number"==typeof i&&(e.getValue()>i||a===!1&&e.getValue()===i)&&r.addError(e,t,"maximum","Number is greater then the required maximum value",i))}},minimumCanEqual:{type:"boolean",optional:!0,requires:"minimum","default":!0,parser:function(e){return"boolean"===e.getType()?e.getValue():!0}},maximumCanEqual:{type:"boolean",optional:!0,requires:"maximum","default":!0,parser:function(e){return"boolean"===e.getType()?e.getValue():!0}},minItems:{type:"integer",optional:!0,minimum:0,"default":0,parser:function(e){return"number"===e.getType()?e.getValue():0},validator:function(e,t,n,r){var i;"array"===e.getType()&&(i=t.getAttribute("minItems"),"number"==typeof i&&e.getProperties().length<i&&r.addError(e,t,"minItems","The number of items is less then the required minimum",i))}},maxItems:{type:"integer",optional:!0,minimum:0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i;"array"===e.getType()&&(i=t.getAttribute("maxItems"),"number"==typeof i&&e.getProperties().length>i&&r.addError(e,t,"maxItems","The number of items is greater then the required maximum",i))}},pattern:{type:"string",optional:!0,format:"regex",parser:function(e){if("string"===e.getType())try{return new RegExp(e.getValue())}catch(t){return t}},validator:function(e,t,n,r){var i;try{i=t.getAttribute("pattern"),i instanceof Error?r.addError(t,n,"pattern","Invalid pattern",t.getValueOfProperty("pattern")):"string"===e.getType()&&i&&!i.test(e.getValue())&&r.addError(e,t,"pattern","String does not match pattern",i.toString())}catch(a){r.addError(t,n,"pattern","Invalid pattern",t.getValueOfProperty("pattern"))}}},minLength:{type:"integer",optional:!0,minimum:0,"default":0,parser:function(e){return"number"===e.getType()?e.getValue():0},validator:function(e,t,n,r){var i;"string"===e.getType()&&(i=t.getAttribute("minLength"),"number"==typeof i&&e.getValue().length<i&&r.addError(e,t,"minLength","String is less then the required minimum length",i))}},maxLength:{type:"integer",optional:!0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i;"string"===e.getType()&&(i=t.getAttribute("maxLength"),"number"==typeof i&&e.getValue().length>i&&r.addError(e,t,"maxLength","String is greater then the required maximum length",i))}},"enum":{type:"array",optional:!0,minItems:1,uniqueItems:!0,parser:function(e){return"array"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,a,o;if("undefined"!==e.getType()&&(i=t.getAttribute("enum"))){for(a=0,o=i.length;o>a;++a)if(e.equals(i[a]))return!0;r.addError(e,t,"enum","Instance is not one of the possible values",i)}}},title:{type:"string",optional:!0},description:{type:"string",optional:!0},format:{type:"string",optional:!0,parser:function(e){return"string"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,a;"string"===e.getType()&&(i=t.getAttribute("format"),a=n.getValueOfProperty("formatValidators"),"string"!=typeof i||a[i]===j[i]||"function"!=typeof a[i]||a[i].call(this,e,r)||r.addError(e,t,"format","String is not in the required format",i))},formatValidators:{uri:function(e){var t=/^(?:(?:https?):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+\-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+\-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i;return!!t.test(e._value)},email:function(e){var t=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;return!!t.test(e._value)}}},contentEncoding:{type:"string",optional:!0},"default":{type:"any",optional:!0},maxDecimal:{type:"integer",optional:!0,minimum:0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,a;"number"===e.getType()&&(i=t.getAttribute("maxDecimal"),"number"==typeof i&&(a=e.getValue().toString(10).split(".")[1],a&&a.length>i&&r.addError(e,t,"maxDecimal","The number of decimal places is greater then the allowed maximum",i)))}},disallow:{type:["string","array"],items:{type:"string"},optional:!0,uniqueItems:!0,parser:function(e){return"string"===e.getType()||"array"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r,i,a,o){var s,l,u,c,h,d=P.toArray(t.getAttribute("disallow"));if("undefined"!==e.getType()&&d&&d.length){for(c=n.getValueOfProperty("typeValidators")||{},s=0,l=d.length;l>s;++s)if(u=d[s],P.isJSONSchema(u)){if(h=P.createObject(r),h.errors=[],h.validated=P.clone(r.validated),0===u.validate(e,h,i,a,o).errors.length)return r.addError(e,t,"disallow","Instance is a disallowed type",d),!1}else if(c[u]!==j[u]&&"function"==typeof c[u]&&c[u](e,r))return r.addError(e,t,"disallow","Instance is a disallowed type",d),!1;return!0}return!0},typeValidators:r},"extends":{type:[{$ref:"#"},"array"],items:{$ref:"#"},optional:!0,"default":{},parser:function(e,t){return"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):"array"===e.getType()?P.mapArray(e.getProperties(),function(e){return e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#")))}):void 0},validator:function(e,t,n,r,i,a,o){var s,l,u=t.getAttribute("extends");if(u)if(P.isJSONSchema(u))u.validate(e,r,i,a,o);else if("array"===P.typeOf(u))for(s=0,l=u.length;l>s;++s)u[s].validate(e,r,i,a,o)}}},optional:!0,"default":{},fragmentResolution:"dot-delimited",parser:function(e,t){return"object"===e.getType()?e.getEnvironment().createSchema(e,t):void 0},validator:function(e,t,n,r,i,a,o){var s,l,u,c=t.getPropertyNames(),h=n.getAttribute("properties"),d=e.getEnvironment().getOption("strict");for(s in h)h[s]!==j[s]&&(h[s].getValueOfProperty("validationRequired")&&P.pushUnique(c,s),d&&h[s].getValueOfProperty("deprecated")&&P.popFirst(c,s));for(s=0,l=c.length;l>s;++s)h[c[s]]!==j[c[s]]&&(u=h[c[s]].getValueOfProperty("validator"),"function"==typeof u&&u(e,t,h[c[s]],r,i,a,o))}},o={$schema:"http://json-schema.org/draft-00/hyper-schema#",id:"http://json-schema.org/draft-00/hyper-schema#",properties:{links:{type:"array",items:{$ref:"links#"},optional:!0,parser:function(e,t,n){var r,i,a=t.getValueOfProperty("items").$ref,o=t.getEnvironment().findSchema(a),s=o&&o.getValueOfProperty("parser");return n=P.toArray(n),r="function"==typeof s?P.mapArray(e.getProperties(),function(e){return s(e,o)}):P.toArray(e.getValue()),n[0]&&(r=P.filterArray(r,function(e){return e.rel===n[0]})),n[1]&&(i=t.getValueOfProperty("selfReferenceVariable"),r=P.mapArray(r,function(e){var t=n[1],r=e.href;return r=r.replace(/\{(.+)\}/g,function(e,n){var r;return r=n===i?t.getValue():t.getValueOfProperty(n),void 0!==r?String(r):""}),r?P.formatURI(t.resolveURI(r)):r})),r},selfReferenceVariable:"-this"},fragmentResolution:{type:"string",optional:!0,"default":"dot-delimited"},root:{type:"boolean",optional:!0,"default":!1},readonly:{type:"boolean",optional:!0,"default":!1},pathStart:{type:"string",optional:!0,format:"uri",validator:function(e,t,n,r){var i;"undefined"!==e.getType()&&(i=t.getAttribute("pathStart"),"string"==typeof i&&0!==e.getURI().indexOf(i)&&r.addError(e,t,"pathStart","Instance's URI does not start with "+i,i))}},mediaType:{type:"string",optional:!0,format:"media-type"},alternate:{type:"array",items:{$ref:"#"},optional:!0}},links:[{href:"{$ref}",rel:"full"},{href:"{$schema}",rel:"describedby"},{href:"{id}",rel:"self"}],initializer:function(e){var t,r,i;if(t=e._schema.getLink("describedby",e),t&&e._schema._uri!==t){if(e._env._schemas[t])return e._schema=e._env._schemas[t],initializer=e._schema.getValueOfProperty("initializer"),"function"==typeof initializer?initializer(e):e;if(e._env._options.validateReferences)throw new n(e,e._schema,"{link:describedby}","Unknown schema reference",t)}if(t=e._schema.getLink("full",e),t&&e._uri!==t){if(e._env._schemas[t])return e=e._env._schemas[t];if(e._env._options.validateReferences)throw new n(e,e._schema,"{link:full}","Unknown schema reference",t)}return r=e.getAttribute("extends"),P.isJSONSchema(r)&&(i=P.inherits(r,e,!0),e=e._env.createSchema(i,e._schema,e._uri)),t=e._schema.getLink("self",e),"string"===P.typeOf(t)&&(e._uri=P.formatURI(t)),e}},s={$schema:"http://json-schema.org/draft-00/hyper-schema#",id:"http://json-schema.org/draft-00/links#",type:"object",properties:{href:{type:"string"},rel:{type:"string"},method:{type:"string","default":"GET",optional:!0},enctype:{type:"string",requires:"method",optional:!0},properties:{type:"object",additionalProperties:{$ref:"hyper-schema#"},optional:!0,parser:function(e,t,n){var r=e.getEnvironment(),i=t.getEnvironment(),a=t.getValueOfProperty("additionalProperties").$ref;return"object"===e.getType()?n?r.createSchema(e.getProperty(n),i.findSchema(t.resolveURI(a))):P.mapObject(e.getProperties(),function(e){return r.createSchema(e,i.findSchema(t.resolveURI(a)))}):void 0}}},parser:function(e,t){var n=t.getProperty("properties");return"object"===e.getType()?P.mapObject(e.getProperties(),function(e,t){var r=n.getProperty(t),i=r&&r.getValueOfProperty("parser");return"function"==typeof i?i(e,r):e.getValue()}):e.getValue()}},i.setOption("defaultFragmentDelimiter","."),i.setOption("defaultSchemaURI","http://json-schema.org/draft-00/schema#"),l=i.createSchema(a,!0,"http://json-schema.org/draft-00/schema#"),u=i.createSchema(P.inherits(l,i.createSchema(o,!0,"http://json-schema.org/draft-00/hyper-schema#"),!0),!0,"http://json-schema.org/draft-00/hyper-schema#"),i.setOption("defaultSchemaURI","http://json-schema.org/draft-00/hyper-schema#"),c=i.createSchema(s,u,"http://json-schema.org/draft-00/links#"),l=i.createSchema(l.getValue(),u,"http://json-schema.org/draft-00/schema#"),u=i.createSchema(u.getValue(),u,"http://json-schema.org/draft-00/hyper-schema#"),c=i.createSchema(c.getValue(),u,"http://json-schema.org/draft-00/links#"),h=P.inherits(a,{$schema:"http://json-schema.org/draft-01/hyper-schema#",id:"http://json-schema.org/draft-01/schema#"}),d=P.inherits(o,{$schema:"http://json-schema.org/draft-01/hyper-schema#",id:"http://json-schema.org/draft-01/hyper-schema#"}),f=P.inherits(s,{$schema:"http://json-schema.org/draft-01/hyper-schema#",id:"http://json-schema.org/draft-01/links#"}),i.setOption("defaultSchemaURI","http://json-schema.org/draft-01/schema#"),p=i.createSchema(h,!0,"http://json-schema.org/draft-01/schema#"),m=i.createSchema(P.inherits(p,i.createSchema(d,!0,"http://json-schema.org/draft-01/hyper-schema#"),!0),!0,"http://json-schema.org/draft-01/hyper-schema#"),i.setOption("defaultSchemaURI","http://json-schema.org/draft-01/hyper-schema#"),g=i.createSchema(f,m,"http://json-schema.org/draft-01/links#"),p=i.createSchema(p.getValue(),m,"http://json-schema.org/draft-01/schema#"),m=i.createSchema(m.getValue(),m,"http://json-schema.org/draft-01/hyper-schema#"),g=i.createSchema(g.getValue(),m,"http://json-schema.org/draft-01/links#"),v=P.inherits(h,{$schema:"http://json-schema.org/draft-02/hyper-schema#",id:"http://json-schema.org/draft-02/schema#",properties:{uniqueItems:{type:"boolean",optional:!0,"default":!1,parser:function(e){return!!e.getValue()},validator:function(e,t,n,r){var i,a,o,s,l;if("array"===e.getType()&&t.getAttribute("uniqueItems"))for(i=e.getProperties(),a=0,o=i.length-1;o>a;++a)for(s=a+1,l=i.length;l>s;++s)i[a].equals(i[s])&&r.addError(e,t,"uniqueItems","Array can only contain unique items",{x:a,y:s})}},maxDecimal:{deprecated:!0},divisibleBy:{type:"number",minimum:0,minimumCanEqual:!1,optional:!0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i;"number"===e.getType()&&(i=t.getAttribute("divisibleBy"),0===i?r.addError(e,t,"divisibleBy","Nothing is divisible by 0",i):1!==i&&e.getValue()/i%1!==0&&r.addError(e,t,"divisibleBy","Number is not divisible by "+i,i))}}},fragmentResolution:"slash-delimited"}),y=P.inherits(d,{id:"http://json-schema.org/draft-02/hyper-schema#",properties:{fragmentResolution:{"default":"slash-delimited"}}}),b=P.inherits(f,{$schema:"http://json-schema.org/draft-02/hyper-schema#",id:"http://json-schema.org/draft-02/links#",properties:{targetSchema:{$ref:"hyper-schema#",parser:m.getAttribute("parser")}}}),i.setOption("defaultFragmentDelimiter","/"),i.setOption("defaultSchemaURI","http://json-schema.org/draft-02/schema#"),x=i.createSchema(v,!0,"http://json-schema.org/draft-02/schema#"),w=i.createSchema(P.inherits(x,i.createSchema(y,!0,"http://json-schema.org/draft-02/hyper-schema#"),!0),!0,"http://json-schema.org/draft-02/hyper-schema#"),i.setOption("defaultSchemaURI","http://json-schema.org/draft-02/hyper-schema#"),_=i.createSchema(b,w,"http://json-schema.org/draft-02/links#"),x=i.createSchema(x.getValue(),w,"http://json-schema.org/draft-02/schema#"),w=i.createSchema(w.getValue(),w,"http://json-schema.org/draft-02/hyper-schema#"),_=i.createSchema(_.getValue(),w,"http://json-schema.org/draft-02/links#"),S=P.inherits(v,{$schema:"http://json-schema.org/draft-03/schema#",id:"http://json-schema.org/draft-03/schema#",properties:{patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{},parser:x.getValueOfProperty("properties").properties.parser,validator:function(t,n,r,i){var a,o,s;if("object"===t.getType()){a=e(t,n,i,r);for(o in a)if(a[o]!==j[o])for(s=a[o].length;s--;)a[o][s].validate(t.getProperty(o),i,t,n,o)}}},additionalProperties:{validator:function(t,n,r,i){var a,o,s,l,u;if("object"===t.getType()){a=n.getAttribute("additionalProperties"),o=n.getAttribute("properties")||{},s=t.getProperties(),l=e(t,n);for(u in s)s[u]!==j[u]&&s[u]&&o[u]===j[u]&&l[u]===j[u]&&(P.isJSONSchema(a)?a.validate(s[u],i,t,n,u):a===!1&&i.addError(t,n,"additionalProperties","Additional properties are not allowed",a))}}},items:{validator:function(e,t,n,r){var i,a,o,s,l,u;if("array"===e.getType())if(i=e.getProperties(),a=t.getAttribute("items"),u=t.getAttribute("additionalItems"),"array"===P.typeOf(a))for(o=0,s=i.length;s>o;++o)l=a[o]||u,l!==!1?l.validate(i[o],r,e,t,o):r.addError(e,t,"additionalItems","Additional items are not allowed",l);else for(l=a||u,o=0,s=i.length;s>o;++o)l.validate(i[o],r,e,t,o)}},additionalItems:{type:[{$ref:"#"},"boolean"],"default":{},parser:x.getValueOfProperty("properties").additionalProperties.parser,validator:function(e,t,n,r){var i,a,o,s;if("array"===e.getType()&&"undefined"===t.getProperty("items").getType())if(i=t.getAttribute("additionalItems"),a=e.getProperties(),i!==!1)for(o=0,s=a.length;s>o;++o)i.validate(a[o],r,e,t,o);else a.length&&r.addError(e,t,"additionalItems","Additional items are not allowed",i)}},optional:{validationRequired:!1,deprecated:!0},required:{type:"boolean","default":!1,parser:function(e){return!!e.getValue()},validator:function(e,t,n,r){"undefined"===e.getType()&&t.getAttribute("required")&&r.addError(e,t,"required","Property is required",!0)}},requires:{deprecated:!0},dependencies:{type:"object",additionalProperties:{type:["string","array",{$ref:"#"}],items:{type:"string"}},"default":{},parser:function(e,t,n){function r(e){var n=e.getType();return"string"===n||"array"===n?e.getValue():"object"===n?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):void 0}return"object"===e.getType()?n?r(e.getProperty(n)):P.mapObject(e.getProperties(),r):{}},validator:function(e,t,n,r){var i,a,o,s,l,u;if("object"===e.getType()){i=t.getAttribute("dependencies");for(a in i)if(i[a]!==j[a]&&"undefined"!==e.getProperty(a).getType())if(o=i[a],s=P.typeOf(o),"string"===s)"undefined"===e.getProperty(o).getType()&&r.addError(e,t,"dependencies",'Property "'+a+'" requires sibling property "'+o+'"',i);else if("array"===s)for(l=0,u=o.length;u>l;++l)"undefined"===e.getProperty(o[l]).getType()&&r.addError(e,t,"dependencies",'Property "'+a+'" requires sibling property "'+o[l]+'"',i);else P.isJSONSchema(o)&&o.validate(e,r)}}},minimumCanEqual:{deprecated:!0},maximumCanEqual:{deprecated:!0},exclusiveMinimum:{type:"boolean","default":!1,parser:function(e){return!!e.getValue()}},exclusiveMaximum:{type:"boolean","default":!1,parser:function(e){return!!e.getValue()}},minimum:{validator:function(e,t,n,r){var i,a;"number"===e.getType()&&(i=t.getAttribute("minimum"),a=t.getAttribute("exclusiveMinimum")||!e.getEnvironment().getOption("strict")&&!t.getAttribute("minimumCanEqual"),"number"==typeof i&&(e.getValue()<i||a===!0&&e.getValue()===i)&&r.addError(e,t,"minimum","Number is less then the required minimum value",i))}},maximum:{validator:function(e,t,n,r){var i,a;"number"===e.getType()&&(i=t.getAttribute("maximum"),a=t.getAttribute("exclusiveMaximum")||!e.getEnvironment().getOption("strict")&&!t.getAttribute("maximumCanEqual"),"number"==typeof i&&(e.getValue()>i||a===!0&&e.getValue()===i)&&r.addError(e,t,"maximum","Number is greater then the required maximum value",i))}},contentEncoding:{deprecated:!0},divisibleBy:{exclusiveMinimum:!0},disallow:{items:{type:["string",{$ref:"#"}]},parser:v.properties.type.parser},id:{type:"string",format:"uri"},$ref:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"}},dependencies:{exclusiveMinimum:"minimum",exclusiveMaximum:"maximum"},initializer:function(e){var t,r,i,a=e.getValueOfProperty("$schema"),o=e.getValueOfProperty("$ref"),s=e.getValueOfProperty("id");if(a&&(t=e.resolveURI(a),t&&e._schema._uri!==t)){if(e._env._schemas[t])return e._schema=e._env._schemas[t],initializer=e._schema.getValueOfProperty("initializer"),"function"==typeof initializer?initializer(e):e;if(e._env._options.validateReferences)throw new n(e,e._schema,"$schema","Unknown schema reference",t)}if(o&&(t=e.resolveURI(o),t&&e._uri!==t)){if(e._env._schemas[t])return e=e._env._schemas[t];if(e._env._options.validateReferences)throw new n(e,e._schema,"$ref","Unknown schema reference",t)}return r=e.getAttribute("extends"),P.isJSONSchema(r)&&(i=P.inherits(r,e,!0),e=e._env.createSchema(i,e._schema,e._uri)),s&&(t=e.resolveURI(s),"string"===P.typeOf(t)&&(e._uri=P.formatURI(t))),e}}),E=P.inherits(y,{$schema:"http://json-schema.org/draft-03/hyper-schema#",id:"http://json-schema.org/draft-03/hyper-schema#",properties:{links:{selfReferenceVariable:"@"},root:{deprecated:!0},contentEncoding:{deprecated:!1},alternate:{deprecated:!0}}}),T=P.inherits(b,{$schema:"http://json-schema.org/draft-03/hyper-schema#",id:"http://json-schema.org/draft-03/links#",properties:{href:{required:!0,format:"link-description-object-template"},rel:{required:!0},properties:{deprecated:!0},schema:{$ref:"http://json-schema.org/draft-03/hyper-schema#"}}}),i.setOption("validateReferences",!0),i.setOption("defaultSchemaURI","http://json-schema.org/draft-03/schema#"),i.createSchema({},!0,"http://json-schema.org/draft-03/schema#"),i.createSchema({},!0,"http://json-schema.org/draft-03/hyper-schema#"),i.createSchema({},!0,"http://json-schema.org/draft-03/links#"),C=i.createSchema(S,!0,"http://json-schema.org/draft-03/schema#"),k=i.createSchema(P.inherits(C,i.createSchema(E,!0,"http://json-schema.org/draft-03/hyper-schema#"),!0),!0,"http://json-schema.org/draft-03/hyper-schema#"),N=i.createSchema(T,!0,"http://json-schema.org/draft-03/links#"),i.setOption("defaultSchemaURI","http://json-schema.org/draft-03/hyper-schema#"),k=i.createSchema(k.getValue(),k,"http://json-schema.org/draft-03/hyper-schema#"),i.setOption("latestJSONSchemaSchemaURI","http://json-schema.org/draft-03/schema#"),i.setOption("latestJSONSchemaHyperSchemaURI","http://json-schema.org/draft-03/hyper-schema#"),i.setOption("latestJSONSchemaLinksURI","http://json-schema.org/draft-03/links#"),i._schemas["http://json-schema.org/schema#"]=C,i._schemas["http://json-schema.org/hyper-schema#"]=k,i._schemas["http://json-schema.org/links#"]=N,P.registerEnvironment("json-schema-draft-03",i),P.getDefaultEnvironmentID()&&"json-schema-draft-01"!==P.getDefaultEnvironmentID()&&"json-schema-draft-02"!==P.getDefaultEnvironmentID()||P.setDefaultEnvironmentID("json-schema-draft-03")}(),e.JSONFormValidator=n.JSV}(this,!1),!function(e){"use strict";function t(){e(n).parent().removeClass("open")}var n='[data-toggle="dropdown"]',r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var n,r,i,a=e(this);if(!a.is(".disabled, :disabled"))return r=a.attr("data-target"),r||(r=a.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),n=e(r),n.length||(n=a.parent()),i=n.hasClass("open"),t(),i||n.toggleClass("open"),!1}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e(function(){e("html").on("click.dropdown.data-api",t),e("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",n,r.prototype.toggle)})}(window.jQuery),function(e,t){function n(){for(var e=0;e<d.length;e++)d[e]&&d[e].hide()}function r(e,n){var r=t.extend({},h,e);return r.callbacks={move:l(r.move,n),change:l(r.change,n),show:l(r.show,n),hide:l(r.hide,n),beforeShow:l(r.beforeShow,n)},r}function i(i,o){function l(){function n(e){return e.data&&e.data.ignore?(k(t(this).data("color")),P()):(k(t(this).data("color")),O(!0),P(),T()),!1}if(f&&ce.find("*:not(input)").attr("unselectable","on"),ce.toggleClass("sp-flat",q),ce.toggleClass("sp-input-disabled",!V),ce.toggleClass("sp-buttons-disabled",!F.showButtons||q),ce.toggleClass("sp-palette-disabled",!H),ce.toggleClass("sp-palette-only",L),ce.toggleClass("sp-initial-disabled",!R),ce.addClass(F.className),we&&ue.hide().after(_e),q?ue.after(ce).hide():t(le).append(ce.hide()),U&&e.localStorage)try{ae=e.localStorage[U].split(",")}catch(r){}Se.bind("click.spectrum touchstart.spectrum",function(e){S(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),ce.click(s),me.change(_),me.bind("paste",function(){setTimeout(_,1)}),me.keydown(function(e){13==e.keyCode&&_()}),ye.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),T()}),be.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),j()&&(O(!0),T())}),u(fe,function(e,t){ee=t/Q,P()},x,w),u(he,function(e,t){te=e/J,ne=(K-t)/K,P()},x,w),Te?(k(Te),I(),Ne=ke||tinycolor(Te).format,h(Te)):I(),q&&E();var i=f?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ge.delegate("span",i,n),ve.delegate("span::nth-child(1)",i,{ignore:!0},n)}function h(t){B&&(ae.push(tinycolor(t).toHexString()),U&&e.localStorage&&(e.localStorage[U]=ae.join(",")))}function v(){var e=[],t=ae,n={};if(H){for(var r=0;r<ie.length;r++)for(var i=0;i<ie[r].length;i++){var a=tinycolor(ie[r][i]).toHexString();n[a]=!0}for(var r=0;r<t.length;r++){var o=tinycolor(t[r]),a=o.toHexString();n.hasOwnProperty(a)||(e.push(t[r]),n[a]=!0)}}return e.reverse().slice(0,F.maxSelectionSize)}function y(){var e=N(),n=t.map(ie,function(t,n){return g(t,e,"sp-palette-row sp-palette-row-"+n)});ae&&n.push(g(v(),e,"sp-palette-row sp-palette-row-selection")),ge.html(n.join(""))}function b(){if(R){var e=Ce,t=N();ve.html(g([e,t],t,"sp-palette-row-initial"))}}function x(){(0===K||0===J||0===Q)&&D(),ce.addClass(oe)}function w(){ce.removeClass(oe)}function _(){var e=tinycolor(me.val());e.ok?k(e):me.addClass("sp-validation-error")}function S(){X?T():E()}function E(){return X?void D():void(W.beforeShow(N())!==!1&&(n(),X=!0,t(se).bind("click.spectrum",T),t(e).bind("resize.spectrum",z),_e.addClass("sp-active"),ce.show(),H&&y(),D(),I(),Ce=N(),b(),W.show(Ce)))}function T(){if(X&&!q){X=!1,t(se).unbind("click.spectrum",T),t(e).unbind("resize.spectrum",z),_e.removeClass("sp-active"),ce.hide();var n=!tinycolor.equals(N(),Ce);n&&(je?O(!0):C()),W.hide(N())}}function C(){k(Ce,!0)}function k(e,t){if(!tinycolor.equals(e,N())){var n=tinycolor(e),r=n.toHsv();ee=r.h,te=r.s,ne=r.v,I(),t||(Ne=ke||n.format)}}function N(){return tinycolor.fromRatio({h:ee,s:te,v:ne})}function j(){return!me.hasClass("sp-validation-error")}function P(){I(),W.move(N())}function I(){me.removeClass("sp-validation-error"),A();var e=tinycolor({h:ee,s:"1.0",v:"1.0"});he.css("background-color",e.toHexString());var t=N(),n=t.toHexString();Ee.css("background-color",n),V&&me.val(t.toString(Ne)),H&&y(),b()}function A(){var e=te,t=ne,n=e*J,r=K-t*K;n=Math.max(-Y,Math.min(J-Y,n-Y)),r=Math.max(-Y,Math.min(K-Y,r-Y)),de.css({top:r,left:n});var i=ee*Q;pe.css({top:i-Z})}function O(e){var t=N();xe&&ue.val(t.toString(Ne)).change();var n=!tinycolor.equals(t,Ce);Ce=t,h(t),e&&n&&W.change(t)}function D(){J=he.width(),K=he.height(),Y=de.height(),G=fe.width(),Q=fe.height(),Z=pe.height(),q||ce.offset(a(ce,Se)),A()}function M(){ue.show(),Se.unbind("click.spectrum touchstart.spectrum"),ce.remove(),_e.remove(),d[Pe.id]=null}var F=r(o,i),q=F.flat,L=F.showPaletteOnly,H=F.showPalette||L,R=F.showInitial&&!q,V=F.showInput,B=F.showSelectionPalette,U=F.localStorageKey,$=F.theme,W=F.callbacks,z=c(D,10),X=!1,J=0,K=0,Y=0,Q=0,G=0,Z=0,ee=0,te=0,ne=0,re=F.palette.slice(0),ie=t.isArray(re[0])?re:[re],ae=F.selectionPalette.slice(0),oe="sp-dragging",se=i.ownerDocument,le=se.body,ue=t(i),ce=t(m,se).addClass($),he=ce.find(".sp-color"),de=ce.find(".sp-dragger"),fe=ce.find(".sp-hue"),pe=ce.find(".sp-slider"),me=ce.find(".sp-input"),ge=ce.find(".sp-palette"),ve=ce.find(".sp-initial"),ye=ce.find(".sp-cancel"),be=ce.find(".sp-choose"),xe=ue.is("input"),we=xe&&!q,_e=we?t(p).addClass($):t([]),Se=we?_e:ue,Ee=_e.find(".sp-preview"),Te=F.color||xe&&ue.val(),Ce=!1,ke=F.preferredFormat,Ne=ke,je=!F.showButtons;be.text(F.chooseText),ye.text(F.cancelText),l();var Pe={show:E,hide:T,set:function(e){k(e),O()},get:N,destroy:M,container:ce};return Pe.id=d.push(Pe)-1,Pe}function a(e,n){var r=0,i=e.outerWidth(),a=e.outerHeight(),o=(n.outerWidth(),n.outerHeight()),s=e[0].ownerDocument,l=s.documentElement,u=l.clientWidth+t(s).scrollLeft(),c=l.clientHeight+t(s).scrollTop(),h=n.offset();return h.top+=o,h.left-=Math.min(h.left,h.left+i>u&&u>i?Math.abs(h.left+i-u):0),h.top-=Math.min(h.top,h.top+a>c&&c>a?Math.abs(a+o-r):r),h}function o(){}function s(e){e.stopPropagation()}function l(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function u(n,r,i,a){function o(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function s(e){if(h){if(m&&!(document.documentMode>=9)&&!e.button)return u();var t=e.originalEvent.touches,i=t?t[0].pageX:e.pageX,a=t?t[0].pageY:e.pageY,s=Math.max(0,Math.min(i-d.left,p)),l=Math.max(0,Math.min(a-d.top,f));g&&o(e),r.apply(n,[s,l])}}function l(e){{var r=e.which?3==e.which:2==e.button;e.originalEvent.touches}r||h||i.apply(n,arguments)!==!1&&(h=!0,f=t(n).height(),p=t(n).width(),d=t(n).offset(),t(c).bind(v),t(c.body).addClass("sp-dragging"),g||s(e),o(e))}function u(){h&&(t(c).unbind(v),t(c.body).removeClass("sp-dragging"),a.apply(n,arguments)),h=!1}r=r||function(){},i=i||function(){},a=a||function(){};var c=n.ownerDocument||document,h=!1,d={},f=0,p=0,m=t.browser.msie,g="ontouchstart"in e,v={};v.selectstart=o,v.dragstart=o,v[g?"touchmove":"mousemove"]=s,v[g?"touchend":"mouseup"]=u,t(n).bind(g?"touchstart":"mousedown",l)}function c(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,e.apply(i,a)};n&&clearTimeout(r),(n||!r)&&(r=setTimeout(o,t))}}var h={beforeShow:o,move:o,change:o,show:o,hide:o,color:!1,flat:!1,showInput:!1,showButtons:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",theme:"sp-light",palette:["fff","000"],selectionPalette:[]},d=[],f=t.browser.msie,p=["<div class='sp-replacer'>","<div class='sp-preview'></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),m=function(){var e="";if(f)for(var t=1;6>=t;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),g=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=tinycolor(e[i]),o=a.toHsl().l<.5?"sp-thumb-dark":"sp-thumb-light";o+=tinycolor.equals(t,e[i])?" sp-thumb-active":"",r.push('<span title="'+a.toHexString()+'" data-color="'+a.toHexString()+'" style="background-color:'+a.toRgbString()+';" class="'+o+'"></span>')}return"<div class='sp-cf "+n+"'>"+r.join("")+"</div>"},v="spectrum.id";t.fn.spectrum=function(e,n){return"string"==typeof e?"get"==e?d[this.eq(0).data(v)].get():"container"==e?d[t(this).data(v)].container:this.each(function(){
var r=d[t(this).data(v)];r&&("show"==e&&r.show(),"hide"==e&&r.hide(),"set"==e&&r.set(n),"destroy"==e&&(r.destroy(),t(this).removeData(v)))}):this.spectrum("destroy").each(function(){var n=i(this,e);t(this).data(v,n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=u,t.fn.spectrum.processNativeColorInputs=function(){var e="color"===t("<input type='color' />")[0].type;e||t("input[type=color]").spectrum({preferredFormat:"hex6"})},t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}(this,jQuery),function(e){function t(e){if("object"==typeof e&&e.hasOwnProperty("_tc_id"))return e;var t=n(e),r=t.r,a=t.g,s=t.b,u=E(t.a),c=t.format;return{ok:t.ok,format:c,_tc_id:y++,alpha:u,toHsv:function(){var e=o(r,a,s);return{h:e.h,s:e.s,v:e.v,a:u}},toHsvString:function(){var e=o(r,a,s),t=x(360*e.h),n=x(100*e.s),i=x(100*e.v);return 1==u?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+u+")"},toHsl:function(){var e=i(r,a,s);return{h:e.h,s:e.s,l:e.l,a:u}},toHslString:function(){var e=i(r,a,s),t=x(360*e.h),n=x(100*e.s),o=x(100*e.l);return 1==u?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+u+")"},toHex:function(){return l(r,a,s)},toHexString:function(e){return"#"+l(r,a,s,e)},toRgb:function(){return{r:x(r),g:x(a),b:x(s),a:u}},toRgbString:function(){return 1==u?"rgb("+x(r)+", "+x(a)+", "+x(s)+")":"rgba("+x(r)+", "+x(a)+", "+x(s)+", "+u+")"},toName:function(){return C[l(r,a,s)]||!1},toFilter:function(){var e=l(r,a,s),t=Math.round(255*E(u)).toString(16);return"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+t+e+",endColorstr=#"+t+e+")"},toString:function(e){e=e||this.format;var t=!1;return"rgb"===e&&(t=this.toRgbString()),"hex"===e&&(t=this.toHexString()),"hex6"===e&&(t=this.toHexString(!0)),"name"===e&&(t=this.toName()),"hsl"===e&&(t=this.toHslString()),"hsv"===e&&(t=this.toHsvString()),t||this.toHexString()}}}function n(e){var t={r:0,g:0,b:0},n=1,i=!1,o=!1;if("string"==typeof e&&(e=m(e)),"object"==typeof e){if(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b"))t=r(e.r,e.g,e.b),i=!0,o="rgb";else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v"))t=s(e.h,e.s,e.v),i=!0,o="hsv";else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")){var t=a(e.h,e.s,e.l);i=!0,o="hsl"}e.hasOwnProperty("a")&&(n=e.a)}return t.r=w(255,_(t.r,0)),t.g=w(255,_(t.g,0)),t.b=w(255,_(t.b,0)),t.r<1&&(t.r=x(t.r)),t.g<1&&(t.g=x(t.g)),t.b<1&&(t.b=x(t.b)),{ok:i,format:e&&e.format||o,r:t.r,g:t.g,b:t.b,a:n}}function r(e,t,n){return{r:255*c(e,255),g:255*c(t,255),b:255*c(n,255)}}function i(e,t,n){e=c(e,255),t=c(t,255),n=c(n,255);var r,i,a=_(e,t,n),o=w(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case e:r=(t-n)/l+(n>t?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function a(e,t,n){function r(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e}var i,a,o;if(e=c(e,360),t=c(t,100),n=c(n,100),0==t)i=a=o=n;else{var s=.5>n?n*(1+t):n+t-n*t,l=2*n-s;i=r(l,s,e+1/3),a=r(l,s,e),o=r(l,s,e-1/3)}return{r:255*i,g:255*a,b:255*o}}function o(e,t,n){e=c(e,255),t=c(t,255),n=c(n,255);var r,i,a=_(e,t,n),o=w(e,t,n),s=a,l=a-o;if(i=0==a?0:l/a,a==o)r=0;else{switch(a){case e:r=(t-n)/l+(n>t?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function s(e,t,n){var r,i,a;e=6*c(e,360),t=c(t,100),n=c(n,100);var o=b.floor(e),s=e-o,l=n*(1-t),u=n*(1-s*t),h=n*(1-(1-s)*t),d=o%6,r=[n,u,l,l,h,n][d],i=[h,n,n,u,l,l][d],a=[l,l,h,n,n,u][d];return{r:255*r,g:255*i,b:255*a}}function l(e,t,n,r){function i(e){return 1==e.length?"0"+e:""+e}var a=[i(x(e).toString(16)),i(x(t).toString(16)),i(x(n).toString(16))];return r||a[0].charAt(0)!=a[0].charAt(1)||a[1].charAt(0)!=a[1].charAt(1)||a[2].charAt(0)!=a[2].charAt(1)?a.join(""):a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)}function u(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function c(e,t){f(e)&&(e="100%");var n=p(e);return e=w(t,_(0,E(e))),n&&(e*=t/100),b.abs(e-t)<1e-6?1:e>=1?e%t/E(t):e}function h(e){return w(1,_(0,e))}function d(e){return parseInt(e,16)}function f(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===E(e)}function p(e){return"string"==typeof e&&-1!=e.indexOf("%")}function m(e){e=e.replace(g,"").replace(v,"").toLowerCase();var t=!1;if(T[e])e=T[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0};var n;return(n=k.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=k.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=k.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=k.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=k.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=k.hex6.exec(e))?{r:d(n[1]),g:d(n[2]),b:d(n[3]),format:t?"name":"hex"}:(n=k.hex3.exec(e))?{r:d(n[1]+""+n[1]),g:d(n[2]+""+n[2]),b:d(n[3]+""+n[3]),format:t?"name":"hex"}:!1}var g=/^[\s,#]+/,v=/\s+$/,y=0,b=Math,x=b.round,w=b.min,_=b.max,S=b.random,E=e.parseFloat;t.fromRatio=function(e){if("object"==typeof e)for(var n in e)1===e[n]&&(e[n]="1.0");return t(e)},t.equals=function(e,n){return e&&n?t(e).toHex()==t(n).toHex():!1},t.random=function(){return t.fromRatio({r:S(),g:S(),b:S()})},t.desaturate=function(e,n){var r=t(e).toHsl();return r.s-=(n||10)/100,r.s=h(r.s),t(r)},t.saturate=function(e,n){var r=t(e).toHsl();return r.s+=(n||10)/100,r.s=h(r.s),t(r)},t.greyscale=function(e){return t.desaturate(e,100)},t.lighten=function(e,n){var r=t(e).toHsl();return r.l+=(n||10)/100,r.l=h(r.l),t(r)},t.darken=function(e,n){var r=t(e).toHsl();return r.l-=(n||10)/100,r.l=h(r.l),t(r)},t.complement=function(e){var n=t(e).toHsl();return n.h=(n.h+.5)%1,t(n)},t.triad=function(e){var n=t(e).toHsl(),r=360*n.h;return[t(e),t({h:(r+120)%360,s:n.s,l:n.l}),t({h:(r+240)%360,s:n.s,l:n.l})]},t.tetrad=function(e){var n=t(e).toHsl(),r=360*n.h;return[t(e),t({h:(r+90)%360,s:n.s,l:n.l}),t({h:(r+180)%360,s:n.s,l:n.l}),t({h:(r+270)%360,s:n.s,l:n.l})]},t.splitcomplement=function(e){var n=t(e).toHsl(),r=360*n.h;return[t(e),t({h:(r+72)%360,s:n.s,l:n.l}),t({h:(r+216)%360,s:n.s,l:n.l})]},t.analogous=function(e,n,r){n=n||6,r=r||30;var i=t(e).toHsl(),a=360/r,o=[t(e)];for(i.h*=360,i.h=(i.h-(a*n>>1)+720)%360;--n;)i.h=(i.h+a)%360,o.push(t(i));return o},t.monochromatic=function(e,n){n=n||6;for(var r=t(e).toHsv(),i=r.h,a=r.s,o=r.v,s=[],l=1/n;n--;)s.push(t({h:i,s:a,v:o})),o=(o+l)%1;return s},t.readable=function(e,n){var r=t(e).toRgb(),i=t(n).toRgb();return(i.r-r.r)*(i.r-r.r)+(i.g-r.g)*(i.g-r.g)+(i.b-r.b)*(i.b-r.b)>10404};var T=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=t.hexNames=u(T),k=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();e.tinycolor=t}(this),function(e,t,n,r,i){e&&(r=require("underscore"));var a=/\[([0-9]*)\](?=\[|\.|$)/g,o={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},s={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g},l=function(e){return!(r.isUndefined(e)||r.isNull(e))},u={util:{}},c=function(e){return l(e)?(e=""+e,e?e.replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):""):""},h=function(e){return e.replace(/([ \!\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1")},d=function(e){var t=function(e,t){t.find("> .active").removeClass("active"),e.addClass("active")},r=function(e,t){e.find("input, textarea, select").removeAttr("disabled"),e.parent().children(":not([data-idx="+t+"])").find("input, textarea, select").attr("disabled","disabled")},i=function(e){var i,a=n("option:selected",n(this)),o=n(this),s=a.get(0).getAttribute("data-idx")||a.attr("value");e.preventDefault(),a.hasClass("active")||(i=n(this).parents(".tabbable").eq(0).find(".tab-content [data-idx="+s+"]"),t(a,o),t(i,i.parent()),r(i,s))},a=function(e){var i=(n("a",n(this)),n(this).parents(".tabbable").first().find(".tab-content").first()),a=n(this).index(),o=i.find("[data-idx="+a+"]");e.preventDefault(),t(n(this),n(this).parent()),t(o,o.parent()),n(this).parent().hasClass("jsonform-alternative")&&r(o,a)};e.each(function(){n(this).delegate("select.nav","change",i),n(this).find("select.nav").each(function(){n(this).val(n(this).find(".active").attr("value"));var e=n(this).find("option:selected").get(0).getAttribute("data-idx")||n(this).find("option:selected").attr("value"),t=n(this).parents(".tabbable").eq(0).find(".tab-content [data-idx="+e+"]");r(t,e)}),n(this).delegate("ul.nav li","click",a),n(this).find("ul.nav li.active").click()})};u.fieldTemplate=function(e){return'<div class="control-group jsonform-error-<%= keydash %><%= elt.htmlClass ? " " + elt.htmlClass : "" %><%= (node.schemaElement && node.schemaElement.required && (node.schemaElement.type !== "boolean") ? " jsonform-required" : "") %><%= (node.readOnly ? " jsonform-readonly" : "") %><%= (node.disabled ? " jsonform-disabled" : "") %>"><% if (node.title && !elt.notitle) { %><label class="control-label" for="<%= node.id %>"><%= node.title %></label><% } %><div class="controls"><% if (node.prepend || node.append) { %><div class="<% if (node.prepend) { %>input-prepend<% } %><% if (node.append) { %> input-append<% } %>"><% if (node.prepend) { %><span class="add-on"><%= node.prepend %></span><% } %><% } %>'+e+'<% if (node.append) { %><span class="add-on"><%= node.append %></span><% } %><% if (node.prepend || node.append) { %></div><% } %><% if (node.description) { %><span class="help-inline"><%= node.description %></span><% } %><span class="help-block jsonform-errortext" style="display:none;"></span></div></div>'};var f='<div class="_jsonform-preview"><% if (value.type=="image") { %><img class="jsonform-preview" id="jsonformpreview-<%= id %>" src="<%= value.url %>" /><% } else { %><a href="<%= value.url %>"><%= value.name %></a> (<%= Math.ceil(value.size/1024) %>kB)<% } %></div><a href="#" class="btn _jsonform-delete"><i class="icon-remove" title="Remove"></i></a> ',p=function(e){return{template:'<input type="'+e+'" <%= (fieldHtmlClass ? "class=\'" + fieldHtmlClass + "\' " : "") %>name="<%= node.name %>" value="<%= escape(value) %>" id="<%= id %>"<%= (node.disabled? " disabled" : "")%><%= (node.readOnly ? " readonly=\'readonly\'" : "") %><%= (node.schemaElement && node.schemaElement.maxLength ? " maxlength=\'" + node.schemaElement.maxLength + "\'" : "") %><%= (node.schemaElement && node.schemaElement.required && (node.schemaElement.type !== "boolean") ? " required=\'required\'" : "") %><%= (node.placeholder? "placeholder=" + \'"\' + escape(node.placeholder) + \'"\' : "")%> />',fieldtemplate:!0,inputfield:!0}};u.elementTypes={none:{template:""},root:{template:"<div><%= children %></div>"},text:p("text"),password:p("password"),date:p("date"),datetime:p("datetime"),"datetime-local":p("datetime-local"),email:p("email"),month:p("month"),number:p("number"),search:p("search"),tel:p("tel"),time:p("time"),url:p("url"),week:p("week"),range:{template:'<input type="range" <%= (fieldHtmlClass ? "class=\'" + fieldHtmlClass + "\' " : "") %>name="<%= node.name %>" value="<%= escape(value) %>" id="<%= id %>"<%= (node.disabled? " disabled" : "")%> min=<%= range.min %> max=<%= range.max %> step=<%= range.step %><%= (node.schemaElement && node.schemaElement.required ? " required=\'required\'" : "") %> />',fieldtemplate:!0,inputfield:!0,onBeforeRender:function(e,t){e.range={min:1,max:100,step:1},t&&t.schemaElement&&(t.formElement&&t.formElement.step&&(e.range.step=t.formElement.step),"undefined"!=typeof t.schemaElement.minimum&&(e.range.min=t.schemaElement.exclusiveMinimum?t.schemaElement.minimum+e.range.step:t.schemaElement.minimum),"undefined"!=typeof t.schemaElement.maximum&&(e.range.max=t.schemaElement.exclusiveMaximum?t.schemaElement.maximum+e.range.step:t.schemaElement.maximum))}},color:{template:'<input type="text" <%= (fieldHtmlClass ? "class=\'" + fieldHtmlClass + "\' " : "") %>name="<%= node.name %>" value="<%= escape(value) %>" id="<%= id %>"<%= (node.disabled? " disabled" : "")%><%= (node.schemaElement && node.schemaElement.required ? " required=\'required\'" : "") %> />',fieldtemplate:!0,inputfield:!0,onInsert:function(e,t){n(t.el).find("#"+h(t.id)).spectrum({preferredFormat:"hex",showInput:!0})}},textarea:{template:'<textarea id="<%= id %>" name="<%= node.name %>" style="height:<%= elt.height || "150px" %>;width:<%= elt.width || "100%" %>;"<%= (node.disabled? " disabled" : "")%><%= (node.readOnly ? " readonly=\'readonly\'" : "") %><%= (node.schemaElement && node.schemaElement.maxLength ? " maxlength=\'" + node.schemaElement.maxLength + "\'" : "") %><%= (node.schemaElement && node.schemaElement.required ? " required=\'required\'" : "") %><%= (node.placeholder? "placeholder=" + \'"\' + escape(node.placeholder) + \'"\' : "")%>><%= value %></textarea>',fieldtemplate:!0,inputfield:!0},wysihtml5:{template:'<textarea id="<%= id %>" name="<%= node.name %>" style="height:<%= elt.height || "300px" %>;width:<%= elt.width || "100%" %>;"<%= (node.disabled? " disabled" : "")%><%= (node.readOnly ? " readonly=\'readonly\'" : "") %><%= (node.schemaElement && node.schemaElement.maxLength ? " maxlength=\'" + node.schemaElement.maxLength + "\'" : "") %><%= (node.schemaElement && node.schemaElement.required ? " required=\'required\'" : "") %><%= (node.placeholder? "placeholder=" + \'"\' + escape(node.placeholder) + \'"\' : "")%>><%= value %></textarea>',fieldtemplate:!0,inputfield:!0,onInsert:function(e,t){var r=function(){n(t.el).data("wysihtml5")||(n(t.el).data("wysihtml5_loaded",!0),n(t.el).find("#"+h(t.id)).wysihtml5({html:!0,link:!0,"font-styles":!0,image:!0,events:{load:function(){n(this.textareaElement).removeAttr("required")}}}))};if(window.jsonform_wysihtml5_setup)return void window.jsonform_wysihtml5_setup(r);var i=window.setInterval(function(){window.wysihtml5&&(window.clearInterval(i),r())},1e3)}},ace:{template:'<div id="<%= id %>" style="position:relative;height:<%= elt.height || "300px" %>;"><div id="<%= id %>__ace" style="width:<%= elt.width || "100%" %>;height:<%= elt.height || "300px" %>;"></div><input type="hidden" name="<%= node.name %>" id="<%= id %>__hidden" value="<%= escape(value) %>"/></div>',fieldtemplate:!0,inputfield:!0,onInsert:function(e,t){var i=function(){var e=t.formElement||{},i=window.ace,a=i.edit(n(t.el).find("#"+h(t.id)+"__ace").get(0)),o="#"+h(t.id)+"__hidden";a.getSession().setNewLineMode("unix"),a.renderer.setShowPrintMargin(!1),a.setTheme("ace/theme/"+(e.aceTheme||"twilight")),e.aceMode&&a.getSession().setMode("ace/mode/"+e.aceMode),a.getSession().setTabSize(2),a.getSession().setValue(t.value||"");var s=r.debounce(function(){n(t.el).find(o).val(a.getSession().getValue()),n(t.el).find(o).change()},600);a.getSession().on("change",s),a.on("blur",function(){n(t.el).find(o).change(),n(t.el).find(o).trigger("blur")}),a.on("focus",function(){n(t.el).find(o).trigger("focus")})};if(window.jsonform_ace_setup)return void window.jsonform_ace_setup(i);var a=window.setInterval(function(){window.ace&&(window.clearInterval(a),i())},1e3)}},checkbox:{template:'<label class="checkbox"><input type="checkbox" id="<%= id %>" name="<%= node.name %>" value="1" <% if (value) {%>checked<% } %><%= (node.disabled? " disabled" : "")%><%= (node.schemaElement && node.schemaElement.required && (node.schemaElement.type !== "boolean") ? " required=\'required\'" : "") %> /><span><%= node.inlinetitle || "" %></span></label>',fieldtemplate:!0,inputfield:!0,getElement:function(e){return n(e).parent().get(0)}},file:{template:'<input class="input-file" id="<%= id %>" name="<%= node.name %>" type="file" <%= (node.schemaElement && node.schemaElement.required ? " required=\'required\'" : "") %>/>',fieldtemplate:!0,inputfield:!0},"file-hosted-public":{template:"<span><% if (value && (value.type||value.url)) { %>"+f+'<% } %><input class="input-file" id="_transloadit_<%= id %>" type="file" name="<%= transloaditname %>" /><input data-transloadit-name="_transloadit_<%= transloaditname %>" type="hidden" id="<%= id %>" name="<%= node.name %>" value=\'<%= escape(JSON.stringify(node.value)) %>\' /></span>',fieldtemplate:!0,inputfield:!0,getElement:function(e){return n(e).parent().get(0)},onBeforeRender:function(e,t){t.ownerTree._transloadit_generic_public_index?t.ownerTree._transloadit_generic_public_index++:t.ownerTree._transloadit_generic_public_index=1,e.transloaditname="_transloadit_jsonform_genericupload_public_"+t.ownerTree._transloadit_generic_public_index,t.ownerTree._transloadit_generic_elts||(t.ownerTree._transloadit_generic_elts={}),t.ownerTree._transloadit_generic_elts[e.transloaditname]=t},onChange:function(e,t){if(t.ownerTree._transloadit_bound)return!1;t.ownerTree._transloadit_bound=!0;var a=n(t.ownerTree.domRoot);a.transloadit({autoSubmit:!1,wait:!0,onSuccess:function(e){var n=r.values(e.results);n=r.flatten(n),r.each(n,function(e){var n=t.ownerTree._transloadit_generic_elts[e.field].id,o=a.find("#"+h(n)),s=r.filter(r.keys(e.meta),function(t){return!!l(e.meta[t])});e.meta=r.pick(e.meta,s),o.val(i.stringify(e))}),t.ownerTree._transloadit_bound=!1,a.unbind("submit.transloadit"),r.delay(function(){console.log("submit form"),t.ownerTree.submit()},10)},onError:function(e){console.log("assembly error",e)}})},onInsert:function(e,t){n(t.el).find("a._jsonform-delete").on("click",function(e){return n(t.el).find("._jsonform-preview").remove(),n(t.el).find("a._jsonform-delete").remove(),n(t.el).find("#"+h(t.id)).val(""),e.preventDefault(),!1})},onSubmit:function(e,t){return t.ownerTree._transloadit_bound?!1:!0}},"file-transloadit":{template:"<span><% if (value && (value.type||value.url)) { %>"+f+'<% } %><input class="input-file" id="_transloadit_<%= id %>" type="file" name="_transloadit_<%= node.name %>" /><input type="hidden" id="<%= id %>" name="<%= node.name %>" value=\'<%= escape(JSON.stringify(node.value)) %>\' /></span>',fieldtemplate:!0,inputfield:!0,getElement:function(e){return n(e).parent().get(0)},onChange:function(e,t){if(t.ownerTree._transloadit_bound)return!1;t.ownerTree._transloadit_bound=!0;var a=n(t.ownerTree.domRoot);a.transloadit({autoSubmit:!1,wait:!0,onSuccess:function(e){var n=r.values(e.results);n=r.flatten(n),r.each(n,function(e){var t=a.find('input[name="'+e.field.replace(/^_transloadit_/,"")+'"]'),n=r.filter(r.keys(e.meta),function(t){return!!l(e.meta[t])});e.meta=r.pick(e.meta,n),t.val(i.stringify(e))}),t.ownerTree._transloadit_bound=!1,a.unbind("submit.transloadit"),r.delay(function(){console.log("submit form"),t.ownerTree.submit()},10)},onError:function(e){console.log("assembly error",e)}})},onInsert:function(e,t){n(t.el).find("a._jsonform-delete").on("click",function(e){return n(t.el).find("._jsonform-preview").remove(),n(t.el).find("a._jsonform-delete").remove(),n(t.el).find("#"+h(t.id)).val(""),e.preventDefault(),!1})},onSubmit:function(e,t){return t.ownerTree._transloadit_bound?!1:!0}},select:{template:'<select name="<%= node.name %>" id="<%= id %>"<%= (fieldHtmlClass ? " class=\'" + fieldHtmlClass + "\'" : "") %><%= (node.disabled? " disabled" : "")%><%= (node.schemaElement && node.schemaElement.required ? " required=\'required\'" : "") %>> <% _.each(node.options, function(key, val) { if(key instanceof Object) { if (value === key.value) { %> <option selected value="<%= key.value %>"><%= key.title %></option> <% } else { %> <option value="<%= key.value %>"><%= key.title %></option> <% }} else { if (value === key) { %> <option selected value="<%= key %>"><%= key %></option> <% } else { %><option value="<%= key %>"><%= key %></option> <% }}}); %> </select>',fieldtemplate:!0,inputfield:!0},imageselect:{template:'<div><input type="hidden" name="<%= node.name %>" id="<%= node.id %>" value="<%= value %>" /><div class="dropdown"><a class="btn<% if (buttonClass && node.value) { %> <%= buttonClass %><% } %>" data-toggle="dropdown" href="#"<% if (node.value) { %> style="max-width:<%= width %>px;max-height:<%= height %>px"<% } %>><% if (node.value) { %><img src="<% if (!node.value.match(/^https?:/)) { %><%= prefix %><% } %><%= node.value %><%= suffix %>" alt="" /><% } else { %><%= buttonTitle %><% } %></a><div class="dropdown-menu navbar" id="<%= node.id %>_dropdown"><div><% _.each(node.options, function(key, idx) { if ((idx > 0) && ((idx % columns) === 0)) { %></div><div><% } %><a class="btn<% if (buttonClass) { %> <%= buttonClass %><% } %>" style="max-width:<%= width %>px;max-height:<%= height %>px"><% if (key instanceof Object) { %><img src="<% if (!key.value.match(/^https?:/)) { %><%= prefix %><% } %><%= key.value %><%= suffix %>" alt="<%= key.title %>" /></a><% } else { %><img src="<% if (!key.match(/^https?:/)) { %><%= prefix %><% } %><%= key %><%= suffix %>" alt="" /><% } %></a> <% }); %></div><div class="pagination-right"><a class="btn">Reset</a></div></div></div></div>',fieldtemplate:!0,inputfield:!0,onBeforeRender:function(e,t){var n=t.formElement||{},r=null,i=n.imageSelectorColumns||5;e.buttonTitle=n.imageSelectorTitle||"Select...",e.prefix=n.imagePrefix||"",e.suffix=n.imageSuffix||"",e.width=n.imageWidth||32,e.height=n.imageHeight||32,e.buttonClass=n.imageButtonClass||!1,t.options.length>i?(r=Math.ceil(t.options.length/i),e.columns=Math.ceil(t.options.length/r)):e.columns=i},getElement:function(e){return n(e).parent().get(0)},onInsert:function(e,t){n(t.el).on("click",".dropdown-menu a",function(e){e.preventDefault(),e.stopPropagation();var r="img"===e.target.nodeName.toLowerCase()?n(e.target):n(e.target).find("img"),i=r.attr("src"),a=t.formElement||{},o=a.imagePrefix||"",s=a.imageSuffix||"",l=a.imageWidth||32,u=a.imageHeight||32;i?(0===i.indexOf(o)&&(i=i.substring(o.length)),i=i.substring(0,i.length-s.length),n(t.el).find("input").attr("value",i),n(t.el).find('a[data-toggle="dropdown"]').addClass(a.imageButtonClass).attr("style","max-width:"+l+"px;max-height:"+u+"px").html('<img src="'+(i.match(/^https?:/)?"":o)+i+s+'" alt="" />')):(n(t.el).find("input").attr("value",""),n(t.el).find('a[data-toggle="dropdown"]').removeClass(a.imageButtonClass).removeAttr("style").html(a.imageSelectorTitle||"Select..."))})}},radios:{template:'<div id="<%= node.id %>"><% _.each(node.options, function(key, val) { %><label class="radio"><input type="radio" <% if (((key instanceof Object) && (value === key.value)) || (value === key)) { %> checked="checked" <% } %> name="<%= node.name %>" value="<%= (key instanceof Object ? key.value : key) %>"<%= (node.disabled? " disabled" : "")%><%= (node.schemaElement && node.schemaElement.required ? " required=\'required\'" : "") %>/><span><%= (key instanceof Object ? key.title : key) %></span></label> <% }); %></div>',fieldtemplate:!0,inputfield:!0},radiobuttons:{template:'<div id="<%= node.id %>"><% _.each(node.options, function(key, val) { %><label class="radio btn"><input type="radio" style="position:absolute;left:-9999px;" <% if (((key instanceof Object) && (value === key.value)) || (value === key)) { %> checked="checked" <% } %> name="<%= node.name %>" value="<%= (key instanceof Object ? key.value : key) %>" /><span><%= (key instanceof Object ? key.title : key) %></span></label> <% }); %></div>',fieldtempate:!0,inputfield:!0,onInsert:function(e,t){var r="active",i=t.formElement||{};i.activeClass&&(r+=" "+i.activeClass),n(t.el).find("label").on("click",function(){n(this).parent().find("label").removeClass(r),n(this).addClass(r)})}},checkboxes:{template:"<div><%= choiceshtml %></div>",fieldtemplate:!0,inputfield:!0,onBeforeRender:function(e,t){var n=null,i=null,a='<label class="checkbox"><input type="checkbox" <% if (value) { %> checked="checked" <% } %> name="<%= name %>" value="1"<%= (node.disabled? " disabled" : "")%>/><span><%= title %></span></label>';t&&t.schemaElement&&t.schemaElement.items&&(n=t.schemaElement.items["enum"]||t.schemaElement.items[0]["enum"],n&&(i="",r.each(n,function(e,n){i+=r.template(a,{name:t.key+"["+n+"]",value:r.include(t.value,e),title:t.formElement.titleMap?t.formElement.titleMap[e]:e,node:t},o)}),e.choiceshtml=i))}},array:{template:'<div id="<%= id %>"><ul class="_jsonform-array-ul" style="list-style-type:none;"><%= children %></ul><span class="_jsonform-array-buttons"><a href="#" class="btn _jsonform-array-addmore"><i class="icon-plus-sign" title="Add new"></i></a> <a href="#" class="btn _jsonform-array-deletelast"><i class="icon-minus-sign" title="Delete last"></i></a></span></div>',fieldtemplate:!0,array:!0,childTemplate:function(e){return n("").sortable?'<li data-idx="<%= node.childPos %>"><span class="draggable line"><i class="icon-list" title="Move item"></i></span>'+e+"</li>":'<li data-idx="<%= node.childPos %>">'+e+"</li>"},onInsert:function(e,t){var r=n(t.el).find("#"+h(t.id)),i=t.getArrayBoundaries(),a=function(e,i){if(e!==i){var a=i>e?1:-1,o=0,s=n("> ul",r);for(o=e;o!==i;o+=a)t.children[o].switchValuesWith(t.children[o+a]),t.children[o].render(s.get(0)),t.children[o+a].render(s.get(0));var l=n(t.children[e].el),u=n(t.children[i].el);l.detach(),u.detach(),i>e?(0===e?s.prepend(l):n(t.children[e-1].el).after(l),n(t.children[i-1].el).after(u)):(0===i?s.prepend(u):n(t.children[i-1].el).after(u),n(t.children[e-1].el).after(l))}};n("> span > a._jsonform-array-addmore",r).click(function(e){e.preventDefault(),e.stopPropagation();var a=t.children.length;return i.maxItems>=0&&(t.children.length>i.maxItems-2&&r.find("> span > a._jsonform-array-addmore").addClass("disabled"),t.children.length>i.maxItems-1)?!1:(t.insertArrayItem(a,n("> ul",r).get(0)),void((i.minItems<=0||i.minItems>0&&t.children.length>i.minItems-1)&&r.find("> span > a._jsonform-array-deletelast").removeClass("disabled")))});var o=n("> ul > li",r).length;if(i.minItems>0&&o<i.minItems)for(var s=0;s<i.minItems-1&&r.find("> ul > li").length<i.minItems;s++)t.insertArrayItem(o,r.find("> ul").get(0));i.minItems>0&&t.children.length<=i.minItems&&r.find("> span > a._jsonform-array-deletelast").addClass("disabled"),n("> span > a._jsonform-array-deletelast",r).click(function(e){var n=t.children.length-1;if(e.preventDefault(),e.stopPropagation(),i.minItems>0){if(t.children.length<i.minItems+2&&r.find("> span > a._jsonform-array-deletelast").addClass("disabled"),t.children.length<=i.minItems)return!1}else 1===t.children.length&&r.find("> span > a._jsonform-array-deletelast").addClass("disabled");t.deleteArrayItem(n),i.maxItems>=0&&n<=i.maxItems-1&&r.find("> span > a._jsonform-array-addmore").removeClass("disabled")}),n(t.el).sortable&&(n("> ul",r).sortable(),n("> ul",r).bind("sortstop",function(e,t){var r=n(t.item).data("idx"),i=n(t.item).index();a(r,i)}))}},tabarray:{template:'<div id="<%= id %>"><div class="tabbable tabs-left"><ul class="nav nav-tabs"><%= tabs %></ul><div class="tab-content"><%= children %></div></div><a href="#" class="btn _jsonform-array-addmore"><i class="icon-plus-sign" title="Add new"></i></a> <a href="#" class="btn _jsonform-array-deleteitem"><i class="icon-minus-sign" title="Delete item"></i></a></div>',fieldtemplate:!0,array:!0,childTemplate:function(e){return'<div data-idx="<%= node.childPos %>" class="tab-pane">'+e+"</div>"},onBeforeRender:function(e,t){var n="";r.each(t.children,function(e,t){var r=e.legend||e.title||"Item "+(t+1);n+='<li data-idx="'+t+'"'+(0===t?' class="active"':"")+'><a class="draggable tab" data-toggle="tab">'+c(r)+"</a></li>"}),e.tabs=n},onInsert:function(e,t){var i=n(t.el).find("#"+h(t.id)),a=t.getArrayBoundaries(),o=function(e,r){if(e!==r){var a=r>e?1:-1,o=0,s=n("> .tabbable > .tab-content",i).get(0);for(o=e;o!==r;o+=a)t.children[o].switchValuesWith(t.children[o+a]),t.children[o].render(s),t.children[o+a].render(s)}},s=function(e){var a="",o=!1;void 0===e&&(e=n("> .tabbable > .nav-tabs .active",i).data("idx"),e?e=parseInt(e,10):(o=!0,e=0)),e>=t.children.length&&(e=t.children.length-1),r.each(t.children,function(e,t){var n=e.legend||e.title||"Item "+(t+1);a+='<li data-idx="'+t+'"><a class="draggable tab" data-toggle="tab">'+c(n)+"</a></li>"}),n("> .tabbable > .nav-tabs",i).html(a),o&&n('> .tabbable > .nav-tabs [data-idx="0"]',i).addClass("active"),n('> .tabbable > .nav-tabs [data-toggle="tab"]',i).eq(e).click()};if(n("> a._jsonform-array-deleteitem",i).click(function(e){var r=n("> .tabbable > .nav-tabs .active",i).data("idx");return e.preventDefault(),e.stopPropagation(),a.minItems>0&&(t.children.length<a.minItems+1&&i.find("> a._jsonform-array-deleteitem").addClass("disabled"),t.children.length<=a.minItems)?!1:(t.deleteArrayItem(r),s(),(t.children.length<a.minItems+1||0===t.children.length)&&i.find("> a._jsonform-array-deleteitem").addClass("disabled"),void(a.maxItems>=0&&t.children.length<=a.maxItems&&i.find("> a._jsonform-array-addmore").removeClass("disabled")))}),n("> a._jsonform-array-addmore",i).click(function(e){var r=t.children.length;return a.maxItems>=0&&(t.children.length>a.maxItems-2&&n("> a._jsonform-array-addmore",i).addClass("disabled"),t.children.length>a.maxItems-1)?!1:(e.preventDefault(),e.stopPropagation(),t.insertArrayItem(r,i.find("> .tabbable > .tab-content").get(0)),s(r),void((a.minItems<=0||a.minItems>0&&r>a.minItems-1)&&i.find("> a._jsonform-array-deleteitem").removeClass("disabled")));

}),n(t.el).on("legendUpdated",function(e){s(),e.preventDefault(),e.stopPropagation()}),n(t.el).sortable&&(n("> .tabbable > .nav-tabs",i).sortable({containment:t.el,tolerance:"pointer"}),n("> .tabbable > .nav-tabs",i).bind("sortstop",function(e,t){var r=n(t.item).data("idx"),i=n(t.item).index();o(r,i),s(i)})),a.minItems>=0){for(var l=0;l<a.minItems-1;l++)i.find("> a._jsonform-array-addmore").click();i.find("> a._jsonform-array-deleteitem").addClass("disabled"),s()}a.maxItems>=0&&t.children.length>=a.maxItems&&i.find("> a._jsonform-array-addmore").addClass("disabled"),a.minItems>=0&&t.children.length<=a.minItems&&i.find("> a._jsonform-array-deleteitem").addClass("disabled")}},help:{template:'<span class="help-block" style="padding-top:5px"><%= elt.helpvalue %></span>',fieldtemplate:!0},msg:{template:"<%= elt.msg %>"},fieldset:{template:'<fieldset class="control-group jsonform-error-<%= keydash %> <% if (elt.expandable) { %>expandable<% } %> <%= elt.htmlClass?elt.htmlClass:"" %>" <% if (id) { %> id="<%= id %>"<% } %>><% if (node.title || node.legend) { %><legend><%= node.title || node.legend %></legend><% } %><% if (elt.expandable) { %><div class="control-group"><% } %><%= children %><% if (elt.expandable) { %></div><% } %></fieldset>'},advancedfieldset:{template:'<fieldset<% if (id) { %> id="<%= id %>"<% } %> class="expandable <%= elt.htmlClass?elt.htmlClass:"" %>"><legend>Advanced options</legend><div class="control-group"><%= children %></div></fieldset>'},authfieldset:{template:'<fieldset<% if (id) { %> id="<%= id %>"<% } %> class="expandable <%= elt.htmlClass?elt.htmlClass:"" %>"><legend>Authentication settings</legend><div class="control-group"><%= children %></div></fieldset>'},submit:{template:'<input type="submit" <% if (id) { %> id="<%= id %>" <% } %> class="btn btn-primary <%= elt.htmlClass?elt.htmlClass:"" %>" value="<%= value || node.title %>"<%= (node.disabled? " disabled" : "")%>/>'},button:{template:' <button <% if (id) { %> id="<%= id %>" <% } %> class="btn <%= elt.htmlClass?elt.htmlClass:"" %>"><%= node.title %></button> '},actions:{template:'<div class="form-actions <%= elt.htmlClass?elt.htmlClass:"" %>"><%= children %></div>'},hidden:{template:'<input type="hidden" id="<%= id %>" name="<%= node.name %>" value="<%= escape(value) %>" />',inputfield:!0},selectfieldset:{template:'<fieldset class="tab-container <%= elt.htmlClass?elt.htmlClass:"" %>"><% if (node.legend) { %><legend><%= node.legend %></legend><% } %><% if (node.formElement.key) { %><input type="hidden" id="<%= node.id %>" name="<%= node.name %>" value="<%= escape(value) %>" /><% } else { %><a id="<%= node.id %>"></a><% } %><div class="tabbable"><div class="control-group<%= node.formElement.hideMenu ? " hide" : "" %>"><% if (node.title && !elt.notitle) { %><label class="control-label" for="<%= node.id %>"><%= node.title %></label><% } %><div class="controls"><%= tabs %></div></div><div class="tab-content"><%= children %></div></div></fieldset>',inputfield:!0,getElement:function(e){return n(e).parent().get(0)},childTemplate:function(e){return'<div data-idx="<%= node.childPos %>" class="tab-pane<% if (node.active) { %> active<% } %>">'+e+"</div>"},onBeforeRender:function(e,t){var n=null,i=[];t.schemaElement&&(i=t.schemaElement["enum"]||[]),n=t.options?r.map(t.options,function(e,n){var a=t.children[n];return e instanceof Object?(e=r.extend({node:a},e),e.title=e.title||a.legend||a.title||"Option "+(a.childPos+1),e.value=l(e.value)?e.value:l(i[n])?i[n]:n,e):{title:e,value:l(i[a.childPos])?i[a.childPos]:a.childPos,node:a}}):r.map(t.children,function(e){return{title:e.legend||e.title||"Option "+(e.childPos+1),value:i[e.childPos]||e.childPos,node:e}});var a=null;e.value&&(a=r.find(n,function(e){return e.value===t.value})),a||(a=r.find(n,function(e){return e.node.hasNonDefaultValue()})),a||(a=n[0]),a.node.active=!0,e.value=a.value;var o=(t.formElement,'<select class="nav"'+(t.disabled?" disabled":"")+">");return r.each(n,function(e,t){o+='<option data-idx="'+t+'" value="'+e.value+'"'+(e.node.active?' class="active"':"")+">"+c(e.title)+"</option>"}),o+="</select>",e.tabs=o,e},onInsert:function(e,t){n(t.el).find("select.nav").first().on("change",function(){var e=n(this).find("option:selected");n(t.el).find('input[type="hidden"]').first().val(e.attr("value"))})}},optionfieldset:{template:'<div<% if (node.id) { %> id="<%= node.id %>"<% } %>><%= children %></div>'},section:{template:'<div<% if (node.id) { %> id="<%= node.id %>"<% } %>><%= children %></div>'},questions:{template:'<div><input type="hidden" id="<%= node.id %>" name="<%= node.name %>" value="<%= escape(value) %>" /><%= children %></div>',fieldtempate:!0,inputfield:!0,getElement:function(e){return n(e).parent().get(0)},onInsert:function(e,t){t.children&&0!==t.children.length&&(r.each(t.children,function(e){n(e.el).hide()}),n(t.children[0].el).show())}},question:{template:'<div id="<%= node.id %>"><% _.each(node.options, function(key, val) { %><label class="radio<%= (node.formElement.optionsType === "radiobuttons") ? " btn" : "" %><%= ((key instanceof Object && key.htmlClass) ? " " + key.htmlClass : "") %>"><input type="radio" <% if (node.formElement.optionsType === "radiobuttons") { %> style="position:absolute;left:-9999px;" <% } %>name="<%= node.id %>" value="<%= val %>"<%= (node.disabled? " disabled" : "")%>/><span><%= (key instanceof Object ? key.title : key) %></span></label> <% }); %></div>',fieldtemplate:!0,onInsert:function(e,t){var i="active",a=t.formElement||{};a.activeClass&&(i+=" "+a.activeClass),n(t.el).find('input[type="radio"]').on("change",function(){var e=null,a=t.options[n(this).val()];t.parentNode&&t.parentNode.el&&(n(this).parent().parent().find("label").removeClass(i),n(this).parent().addClass(i),n(t.el).nextAll().hide(),n(t.el).nextAll().find('input[type="radio"]').prop("checked",!1),a.value&&n(t.parentNode.el).find('input[type="hidden"]').val(a.value),a.next&&(e=r.find(t.parentNode.children,function(e){return e.formElement&&e.formElement.qid===a.next}),n(e.el).show(),n(e.el).nextAll().hide(),n(e.el).nextAll().find('input[type="radio"]').prop("checked",!1)),a.href&&(a.target?window.open(a.href,a.target):window.location=a.href),a.submit&&setTimeout(function(){t.ownerTree.submit()},0))})}}},u.util.getObjKey=function(e,t,n){for(var i=e,o=t.split("."),s=null,l=null,u=null,c=0;c<o.length;c++){if(null===i||"object"!=typeof i)return null;if(s=o[c],u=s.replace(a,""),a.lastIndex=0,l=a.exec(s))for(;;){if(!r.isArray(i[u]))return null;if(i=i[u][parseInt(l[1],10)],l=a.exec(s),!l)break}else i=n&&!i[u]&&r.isArray(i)&&i[0]?i[0][u]:i[u]}return n&&r.isArray(i)&&i[0]?i[0]:i},u.util.setObjKey=function(e,t,n){for(var i=e,o=t.split("."),s=null,l=null,u=null,c=0;c<o.length-1;c++)if(s=o[c],u=s.replace(a,""),a.lastIndex=0,l=a.exec(s)){for(;;)if(r.isArray(i[u])||(i[u]=[]),i=i[u],u=parseInt(l[1],10),l=a.exec(s),!l)break;("object"!=typeof i[u]||null===i[u])&&(i[u]={}),i=i[u]}else("object"!=typeof i[u]||null===i[u])&&(i[u]={}),i=i[u];if(s=o[o.length-1],u=s.replace(a,""),a.lastIndex=0,l=a.exec(s)){for(;;)if(r.isArray(i[u])||(i[u]=[]),i=i[u],u=parseInt(l[1],10),l=a.exec(s),!l)break;i[u]=n}else i[u]=n};var m=function(e,t){var n=t.replace(/\./g,".properties.").replace(/\[[0-9]*\]/g,".items"),r=u.util.getObjKey(e,n,!0);if(r&&r.$ref)throw new Error("JSONForm does not yet support schemas that use the $ref keyword. See: https://github.com/joshfire/jsonform/issues/54");return r},g=function(e,t){var n=0,r=0;if(!e)return null;if(t>0)for(;t>n;){if(r=e.indexOf("[]",r),-1===r)return e;r+=2,n+=1}return r=e.indexOf("[]",r),-1===r?e:e.substring(0,r)},v=function(e,t){var n=0;if(!e)return null;if(!t||0===t.length)return e;var r=e.replace(a,function(e){var r=e;return l(t[n])&&(r="["+t[n]+"]"),n+=1,r});return r},y=function(e,t,n,i,a){var o=null;i=i||{},i.idx=i.idx||(n?n[n.length-1]:1),i.value=l(i.value)?i.value:"",i.getValue=i.getValue||function(t){return y(e,t,n,i,a)};var c=function(e,t){var n=null;return e&&e.length?(r.each(e,function(e){return n?void 0:e===t?void(n={key:e}):void(r.isString(e)||(e.key===t?n=e:e.items&&(n=c(e.items,t))))}),n):null},h=c(e.form||[],t),d=m(e.schema.properties,t);return a&&e.value&&(o=u.util.getObjKey(e.value,v(t,n))),l(o)||(h&&"undefined"!=typeof h.value?o=h.value:d&&l(d["default"])&&(o=d["default"]),o&&-1!==o.indexOf("{{values.")&&(o=o.replace(/\{\{values\.([^\}]+)\}\}/g,'{{getValue("$1")}}')),o&&(o=r.template(o,i,s))),l(o)&&h&&h.titleMap&&h.titleMap[o]&&(o=r.template(h.titleMap[o],i,s)),o&&r.isString(o)&&d&&d.maxLength&&o.length>d.maxLength&&(o=o.substr(0,d.maxLength-1)+"…"),l(o)?o:null},b=function(){this.id=null,this.key=null,this.el=null,this.formElement=null,this.schemaElement=null,this.view=null,this.children=[],this.ownerTree=null,this.parentNode=null,this.childTemplate=null,this.legendChild=null,this.arrayPath=[],this.childPos=0};b.prototype.clone=function(e){var t=new b;return t.arrayPath=r.clone(this.arrayPath),t.ownerTree=this.ownerTree,t.parentNode=e||this.parentNode,t.formElement=this.formElement,t.schemaElement=this.schemaElement,t.view=this.view,t.children=r.map(this.children,function(e){return e.clone(t)}),this.childTemplate&&(t.childTemplate=this.childTemplate.clone(t)),t},b.prototype.hasNonDefaultValue=function(){if(this.formElement&&"hidden"==this.formElement.type)return!1;if(this.value&&!this.defaultValue)return!0;var e=r.find(this.children,function(e){return e.hasNonDefaultValue()});return!!e},b.prototype.appendChild=function(e){return e.parentNode=this,e.childPos=this.children.length,this.children.push(e),e},b.prototype.removeChild=function(){var e=this.children[this.children.length-1];if(e)return n(e.el).remove(),this.children.pop()},b.prototype.moveValuesTo=function(e){var t=this.getFormValues(e.arrayPath);e.resetValues(),e.computeInitialValues(t,!0)},b.prototype.switchValuesWith=function(e){var t=this.getFormValues(e.arrayPath),n=e.getFormValues(this.arrayPath);e.resetValues(),e.computeInitialValues(t,!0),this.resetValues(),this.computeInitialValues(n,!0)},b.prototype.resetValues=function(){var e=null;if(this.value=null,this.parentNode?(this.arrayPath=r.clone(this.parentNode.arrayPath),this.parentNode.view&&this.parentNode.view.array&&this.arrayPath.push(this.childPos)):this.arrayPath=[],this.view&&this.view.inputfield)e=n(":input",this.el).serializeArray(),r.each(e,function(e){n('[name="'+h(e.name)+'"]',n(this.el)).val("")},this);else if(this.view&&this.view.array)for(;this.children.length>0;)this.removeChild();r.each(this.children,function(e){e.resetValues()})},b.prototype.setChildTemplate=function(e){this.childTemplate=e,e.parentNode=this},b.prototype.computeInitialValues=function(e,t){var n=this,i=null,a=1,o=0,c=this.ownerTree.formDesc.tpldata||{};if(this.parentNode?(this.arrayPath=r.clone(this.parentNode.arrayPath),this.parentNode.view&&this.parentNode.view.array&&this.arrayPath.push(this.childPos)):this.arrayPath=[],c.idx=this.arrayPath.length>0?this.arrayPath[this.arrayPath.length-1]+1:this.childPos+1,c.value="",c.getValue=function(t){return y(n.ownerTree.formDesc,t,n.arrayPath,c,!!e)},this.formElement&&(this.formElement.id?this.id=v(this.formElement.id,this.arrayPath):this.view&&this.view.array?this.id=h(this.ownerTree.formDesc.prefix)+"-elt-counter-"+r.uniqueId():this.parentNode&&this.parentNode.view&&this.parentNode.view.array?this.id=h(this.ownerTree.formDesc.prefix)+"-elt-counter-"+r.uniqueId():("button"===this.formElement.type||"selectfieldset"===this.formElement.type||"question"===this.formElement.type||"buttonquestion"===this.formElement.type)&&(this.id=h(this.ownerTree.formDesc.prefix)+"-elt-counter-"+r.uniqueId()),this.formElement.key&&(this.key=v(this.formElement.key,this.arrayPath),this.keydash=this.key.replace(/\./g,"---")),this.name=v(this.formElement.name,this.arrayPath),r.each(["title","legend","description","append","prepend","inlinetitle","helpvalue","value","disabled","placeholder","readOnly"],function(e){r.isString(this.formElement[e])?(this[e]=-1!==this.formElement[e].indexOf("{{values.")?this.formElement[e].replace(/\{\{values\.([^\}]+)\}\}/g,'{{getValue("$1")}}'):v(this.formElement[e],this.arrayPath),this[e]&&(this[e]=r.template(this[e],c,s))):this[e]=this.formElement[e]},this),this.formElement.options&&(this.options=r.map(this.formElement.options,function(e){var t=null;return r.isObject(e)&&e.title?(t=-1!==e.title.indexOf("{{values.")?e.title.replace(/\{\{values\.([^\}]+)\}\}/g,'{{getValue("$1")}}'):v(e.title,n.arrayPath),r.extend({},e,{value:l(e.value)?e.value:"",title:r.template(t,c,s)})):e}))),this.view&&this.view.inputfield&&this.schemaElement)e?l(u.util.getObjKey(e,this.key))&&(this.value=u.util.getObjKey(e,this.key)):t||!l(this.value)&&l(this.schemaElement["default"])&&(this.value=this.schemaElement["default"],r.isString(this.value)&&(this.value=-1!==this.value.indexOf("{{values.")?this.value.replace(/\{\{values\.([^\}]+)\}\}/g,'{{getValue("$1")}}'):v(this.value,this.arrayPath),this.value&&(this.value=r.template(this.value,c,s))),this.defaultValue=!0);else if(this.view&&this.view.array)for(a=0,e?a=this.getPreviousNumberOfItems(e,this.arrayPath):0===a&&(a=1),o=0;a>o;o++)this.appendChild(this.childTemplate.clone());if(r.each(this.children,function(n){n.computeInitialValues(e,t)}),this.formElement&&this.formElement.valueInLegend)for(i=this;i;){if(i.parentNode&&i.parentNode.view&&i.parentNode.view.array&&(i.legendChild=this,i.formElement&&i.formElement.legend)){i.legend=v(i.formElement.legend,i.arrayPath),c.idx=i.arrayPath.length>0?i.arrayPath[i.arrayPath.length-1]+1:i.childPos+1,c.value=l(this.value)?this.value:"",i.legend=r.template(i.legend,c,s);break}i=i.parentNode}},b.prototype.getPreviousNumberOfItems=function(e,t){var n=null,i=null,a=null;return e?this.view.inputfield&&this.schemaElement?(n=g(this.formElement.key,t.length),n=v(n,t),(i=u.util.getObjKey(e,n))?(a=r.map(this.children,function(n){return n.getPreviousNumberOfItems(e,t)}),r.max([r.max(a)||0,i.length])):0):this.view.array?this.childTemplate.getPreviousNumberOfItems(e,t):(a=r.map(this.children,function(n){return n.getPreviousNumberOfItems(e,t)}),r.max(a)||0):0},b.prototype.getFormValues=function(e){var t={};if(!this.el)throw new Error("formNode.getFormValues can only be called on nodes that are associated with a DOM element in the tree");var a=n(":input",this.el).serializeArray();a=a.concat(n(":input[type=checkbox]:not(:disabled):not(:checked)",this.el).map(function(){return{name:this.name,value:this.checked}}).get()),e&&r.each(a,function(t){t.name=v(t.name,e)});for(var o=this.ownerTree.formDesc.schema,s=0;s<a.length;s++){var l=a[s].name,c=m(o.properties,l),h=null,d=null;if(c)if(c._jsonform_checkboxes_as_array&&(h=l.match(/\[([0-9]*)\]$/)))l=l.replace(/\[([0-9]*)\]$/,""),d=u.util.getObjKey(t,l)||[],"1"===a[s].value&&d.push(c["enum"][parseInt(h[1],10)]),u.util.setObjKey(t,l,d);else{if("boolean"===c.type&&(a[s].value="0"===a[s].value?!1:!!a[s].value),("number"===c.type||"integer"===c.type)&&r.isString(a[s].value)&&(a[s].value.length?isNaN(Number(a[s].value))||(a[s].value=Number(a[s].value)):a[s].value=null),"string"!==c.type||""!==a[s].value||c._jsonform_allowEmpty||(a[s].value=null),"object"===c.type&&r.isString(a[s].value)&&"{"===a[s].value.substring(0,1))try{a[s].value=i.parse(a[s].value)}catch(f){a[s].value={}}"object"!==c.type||"null"!==a[s].value&&""!==a[s].value||(a[s].value=null),a[s].name&&null!==a[s].value&&u.util.setObjKey(t,a[s].name,a[s].value)}}return t},b.prototype.render=function(e){var t=this.generate();this.setContent(t,e),this.enhance()},b.prototype.setContent=function(e,t){var r=n(e),i=t||(this.parentNode?this.parentNode.el:this.ownerTree.domRoot),a=null;this.el?n(this.el).replaceWith(r):(a=n(i).children().get(this.childPos),a?n(a).before(r):n(i).append(r)),this.el=r,this.updateElement(this.el)},b.prototype.updateElement=function(e){this.id&&(this.el=n("#"+h(this.id),e).get(0),this.view&&this.view.getElement&&(this.el=this.view.getElement(this.el)),this.fieldtemplate!==!1&&this.view&&this.view.fieldtemplate&&(this.el=n(this.el).parent().parent(),(this.prepend||this.prepend)&&(this.el=this.el.parent()),this.el=this.el.get(0)),this.parentNode&&this.parentNode.view&&this.parentNode.view.childTemplate&&(this.el=n(this.el).parent().get(0))),r.each(this.children,function(t){t.updateElement(this.el||e)})},b.prototype.generate=function(){var e={id:this.id,keydash:this.keydash,elt:this.formElement,schema:this.schemaElement,node:this,value:l(this.value)?this.value:"",escape:c},t=null,n="";this.ownerTree.formDesc.onBeforeRender&&this.ownerTree.formDesc.onBeforeRender(e,this),this.view.onBeforeRender&&this.view.onBeforeRender(e,this),t=this.template?this.template:this.formElement&&this.formElement.template?this.formElement.template:this.view.template,this.fieldtemplate!==!1&&(this.fieldtemplate||this.view.fieldtemplate)&&(t=u.fieldTemplate(t)),this.parentNode&&this.parentNode.view&&this.parentNode.view.childTemplate&&(t=this.parentNode.view.childTemplate(t));var i="";return r.each(this.children,function(e){i+=e.generate()}),e.children=i,e.fieldHtmlClass="",this.ownerTree&&this.ownerTree.formDesc&&this.ownerTree.formDesc.params&&this.ownerTree.formDesc.params.fieldHtmlClass&&(e.fieldHtmlClass=this.ownerTree.formDesc.params.fieldHtmlClass),this.formElement&&"undefined"!=typeof this.formElement.fieldHtmlClass&&(e.fieldHtmlClass=this.formElement.fieldHtmlClass),n=r.template(t,e,o)},b.prototype.enhance=function(){var e=this,t=null,i=null,a=r.clone(this.ownerTree.formDesc.tpldata)||{};this.formElement&&(this.view.onInsert&&this.view.onInsert({target:n(this.el)},this),t=this.handlers||this.formElement.handlers,i=this.onInsert||this.formElement.onInsert,i&&i({target:n(this.el)},this),t&&r.each(t,function(e,t){"insert"===t&&e({target:n(this.el)},this)},this),this.el&&(this.onChange&&n(this.el).bind("change",function(t){e.onChange(t,e)}),this.view.onChange&&n(this.el).bind("change",function(t){e.view.onChange(t,e)}),this.formElement.onChange&&n(this.el).bind("change",function(t){e.formElement.onChange(t,e)}),this.onClick&&n(this.el).bind("click",function(t){e.onClick(t,e)}),this.view.onClick&&n(this.el).bind("click",function(t){e.view.onClick(t,e)}),this.formElement.onClick&&n(this.el).bind("click",function(t){e.formElement.onClick(t,e)}),this.onKeyUp&&n(this.el).bind("keyup",function(t){e.onKeyUp(t,e)}),this.view.onKeyUp&&n(this.el).bind("keyup",function(t){e.view.onKeyUp(t,e)}),this.formElement.onKeyUp&&n(this.el).bind("keyup",function(t){e.formElement.onKeyUp(t,e)}),t&&r.each(t,function(t,r){"insert"!==r&&n(this.el).bind(r,function(n){t(n,e)})},this)),this.legendChild&&this.legendChild.formElement&&n(this.legendChild.el).bind("keyup",function(t){e.formElement&&e.formElement.legend&&e.parentNode&&(e.legend=v(e.formElement.legend,e.arrayPath),a.idx=e.arrayPath.length>0?e.arrayPath[e.arrayPath.length-1]+1:e.childPos+1,a.value=n(t.target).val(),e.legend=r.template(e.legend,a,s),n(e.parentNode.el).trigger("legendUpdated"))})),r.each(this.children,function(e){e.enhance()})},b.prototype.insertArrayItem=function(e,t){var n=0;void 0===e&&(e=this.children.length);var r=this.childTemplate.clone();for(this.appendChild(r),r.resetValues(),n=this.children.length-2;n>=e;n--)this.children[n].moveValuesTo(this.children[n+1]);for(this.children[e].resetValues(),this.children[e].computeInitialValues(),n=e;n<this.children.length;n++)this.children[n].render(t)},b.prototype.deleteArrayItem=function(e){var t=0;for(void 0===e&&(e=this.children.length-1),t=e;t<this.children.length-1;t++)this.children[t+1].moveValuesTo(this.children[t]),this.children[t].render();this.removeChild()},b.prototype.getArrayBoundaries=function(){var e={minItems:-1,maxItems:-1};if(!this.view||!this.view.array)return e;var t=function(e,n){var i=null,a=null,o={minItems:-1,maxItems:-1};return n=n||e,e.view&&e.view.array&&e!==n?o:e.key?(a=e.key.replace(/\[[0-9]+\]/g,"[]"),e!==n&&(a=a.replace(/\[\][^\[\]]*$/,"")),i=m(e.ownerTree.formDesc.schema.properties,a),i?{minItems:i.minItems||i.minLength||-1,maxItems:i.maxItems||i.maxLength||-1}:o):(r.each(e.children,function(e){var r=t(e,n);-1!==r.minItems&&(o.minItems=-1!==o.minItems?Math.max(o.minItems,r.minItems):r.minItems),-1!==r.maxItems&&(o.maxItems=-1!==o.maxItems?Math.min(o.maxItems,r.maxItems):r.maxItems)}),o)};return t(this)};var x=function(){this.eventhandlers=[],this.root=null,this.formDesc=null};x.prototype.initialize=function(e){e=e||{},this.formDesc=r.clone(e),this.formDesc.prefix=this.formDesc.prefix||"jsonform-"+r.uniqueId(),this.formDesc.schema&&!this.formDesc.schema.properties&&(this.formDesc.schema={properties:this.formDesc.schema}),this.formDesc.form=this.formDesc.form||["*",{type:"actions",items:[{type:"submit",value:"Submit"}]}],this.formDesc.form=r.isArray(this.formDesc.form)?this.formDesc.form:[this.formDesc.form],this.formDesc.params=this.formDesc.params||{},this.root=new b,this.root.ownerTree=this,this.root.view=u.elementTypes.root,this.buildTree(),this.computeInitialValues()},x.prototype.buildTree=function(){r.each(this.formDesc.form,function(e){"*"===e?r.each(this.formDesc.schema.properties,function(e,t){this.root.appendChild(this.buildFromLayout({key:t}))},this):(r.isString(e)&&(e={key:e}),this.root.appendChild(this.buildFromLayout(e)))},this)},x.prototype.buildFromLayout=function(e){var t=null,n=new b,i=null,a=null;if(e=r.clone(e),e.items&&(e.items=r.isArray(e.items)?r.map(e.items,r.clone):[r.clone(e.items)]),e.key){if(t=m(this.formDesc.schema.properties,e.key),!t)throw new Error('The JSONForm object references the schema key "'+e.key+'" but that key does not exist in the JSON schema');if(this.formDesc.onElementSchema&&this.formDesc.onElementSchema(e,t),e.name=e.name||e.key,e.title=e.title||t.title,e.description=e.description||t.description,e.readOnly=e.readOnly||t.readOnly||e.readonly||t.readonly,e.id||(e.id=h(this.formDesc.prefix)+"-elt-"+e.key),e.allowEmpty&&(t._jsonform_allowEmpty=!0),e.type||(e.type="string"===t.type&&"color"===t.format?"color":"number"!==t.type&&"integer"!==t.type&&"string"!==t.type&&"any"!==t.type||t["enum"]?"boolean"===t.type?"checkbox":"object"===t.type?t.properties?"fieldset":"textarea":r.isUndefined(t["enum"])?t.type:"select":"text"),!e.options&&t["enum"]&&(e.options=e.titleMap?r.map(t["enum"],function(t){return{value:t,title:e.titleMap[t]||t}}):t["enum"]),"checkboxes"===e.type&&t.items){var o=t.items["enum"];o&&(t.items._jsonform_checkboxes_as_array=!0),!o&&t.items[0]&&(o=t.items[0]["enum"],o&&(t.items[0]._jsonform_checkboxes_as_array=!0))}"object"===t.type&&r.each(t.properties,function(t,r){n.appendChild(this.buildFromLayout({key:e.key+"."+r}))},this)}if(e.type||(e.type="none"),i=u.elementTypes[e.type],!i)throw new Error('The JSONForm contains an element whose type is unknown: "'+e.type+'"');if(t){if(!i.inputfield&&!i.array&&"selectfieldset"!==e.type&&"object"!==t.type)throw new Error('The JSONForm contains an element that links to an element in the JSON schema (key: "'+e.key+'") and that should not based on its type ("'+e.type+'")')}else if(i.inputfield&&"selectfieldset"!==e.type)throw new Error('The JSONForm defines an element of type "'+e.type+'" but no "key" property to link the input field to the JSON schema');return e.iddot=h(e.id||""),n.formElement=e,n.schemaElement=t,n.view=i,n.ownerTree=this,e.handlers||(e.handlers={}),n.view.array?(a=e.items?e.items[0]||e.items:e.key+"[]",r.isString(a)&&(a={key:a}),n.setChildTemplate(this.buildFromLayout(a))):e.items&&r.each(e.items,function(e){r.isString(e)&&(e={key:e}),n.appendChild(this.buildFromLayout(e))},this),n},x.prototype.computeInitialValues=function(){this.root.computeInitialValues(this.formDesc.value)},x.prototype.render=function(e){e&&(this.domRoot=e,this.root.render(),this.hasRequiredField()&&n(e).addClass("jsonform-hasrequired"))},x.prototype.forEachElement=function(e){var t=function(n){for(var r=0;r<n.children.length;r++)e(n.children[r]),t(n.children[r])};t(this.root)},x.prototype.validate=function(e){var r=u.getFormValue(this.domRoot),i=!1,a=this.formDesc;if(a.validate!==!1){var o=!1;if("object"!=typeof a.validate?t.JSONFormValidator&&(o=t.JSONFormValidator.createEnvironment("json-schema-draft-03")):o=a.validate,o){var s=o.validate(r,this.formDesc.schema);n(this.domRoot).jsonFormErrors(!1,a),s.errors.length&&(i||(i=[]),i=i.concat(s.errors))}}return i&&!e&&(a.displayErrors?a.displayErrors(i,this.domRoot):n(this.domRoot).jsonFormErrors(i,a)),{errors:i}},x.prototype.submit=function(e){var t=function(){return e&&(e.preventDefault(),e.stopPropagation()),!1},n=u.getFormValue(this.domRoot),r=this.formDesc,i=!1;if(this.forEachElement(function(t){i||t.view.onSubmit&&(i=!t.view.onSubmit(e,t))}),i)return t();var a=this.validate();return r.onSubmit&&!r.onSubmit(a.errors,n)?t():a.errors?t():r.onSubmitValid&&!r.onSubmitValid(n)?t():!1},x.prototype.hasRequiredField=function(){var e=function(t){if(!t)return null;if(t.required&&"boolean"!==t.type)return t;var n=r.find(t.properties,function(t){return e(t)});return n?n:t.items&&(n=r.isArray(t.items)?r.find(t.items,function(t){return e(t)}):e(t.items))?n:void 0};return e(this.formDesc.schema)},u.getFormValue=function(e){var t=n(e).data("jsonform-tree");return t?t.root.getFormValues():null},n.fn.jsonFormErrors=function(e){if(n(".error",this).removeClass("error"),n(".warning",this).removeClass("warning"),n(".jsonform-errortext",this).hide(),e){for(var t=[],r=0;r<e.length;r++){var i=e[r].uri.replace(/.*#\//,"").replace(/\//g,".").replace(/\.([0-9]+)(?=\.|$)/g,"[$1]"),a=".jsonform-error-"+h(i.replace(/\./g,"---"));t.push(a);var o=e[r].type||"error";n(a,this).addClass(o),n(a+" .jsonform-errortext",this).html(e[r].message).show()}t=t.join(",");var s=n(t).get(0);s&&s.scrollIntoView&&s.scrollIntoView(!0,{behavior:"smooth"})}},n.fn.jsonForm=function(e){var t=this;e=r.defaults({},e,{submitEvent:"submit"});var a=new x;return a.initialize(e),a.render(t.get(0)),e.transloadit&&t.append('<input type="hidden" name="params" value=\''+c(i.stringify(e.transloadit.params))+"'>"),t.data("jsonform-tree",a),e.submitEvent&&(t.unbind(e.submitEvent+".jsonform"),t.bind(e.submitEvent+".jsonform",function(e){a.submit(e)})),d(t),n(".expandable > div, .expandable > fieldset",t).hide(),n(".expandable > legend",t).click(function(){var e=n(this).parent();e.toggleClass("expanded"),n("> div",e).slideToggle(100)}),a},n.fn.jsonFormValue=function(){return u.getFormValue(this)},t.JSONForm=t.JSONForm||{util:{}},t.JSONForm.getFormValue=u.getFormValue,t.JSONForm.fieldTemplate=u.fieldTemplate,t.JSONForm.fieldTypes=u.elementTypes,t.JSONForm.getInitialValue=y,t.JSONForm.util.getObjKey=u.util.getObjKey,t.JSONForm.util.setObjKey=u.util.setObjKey}("undefined"!=typeof exports,"undefined"!=typeof exports?exports:window,"undefined"!=typeof jQuery?jQuery:{fn:{}},"undefined"!=typeof _?_:null,JSON);